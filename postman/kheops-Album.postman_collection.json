{
	"info": {
		"_postman_id": "c3988f3a-febd-4b9f-b47c-515f6025cc11",
		"name": "kheops-Album",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Initialisation",
			"item": [
				{
					"name": "create user1-create",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "83822f04-38b7-400f-bc35-7a638a6d5e26",
								"type": "text/javascript",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"access_token_user1\", jsonObject.access_token);"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "794cf6b5-3c58-4f4f-b14b-e1a551b617dc",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
									"type": "text"
								},
								{
									"key": "assertion",
									"value": "eyJhbGciOiJIUzI1NiIsImtpZCI6IjEifQ.eyJhdWQiOiJhdXRob3JpemF0aW9uLmtoZW9wcy5vbmxpbmUiLCJzdWIiOiIxMjM0NTY3ODkiLCJlbWFpbCI6InRvdG9AZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImV4cCI6MjUyMjk0MzU3MiwiaXNzIjoiYXV0aG9yaXphdGlvbi5raGVvcHMub25saW5lIiwiaWF0IjoxNTIyOTM5OTcyfQ.916Xn1BnUwdhOvuWErWWOh_AkYXeS36mVRTP06VWsVA",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/token",
							"host": [
								"{{URL}}"
							],
							"path": [
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "create user2-create",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3366818a-20f6-439d-bb8c-8a7d4fc40b9d",
								"type": "text/javascript",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"access_token_user2\", jsonObject.access_token);",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "794cf6b5-3c58-4f4f-b14b-e1a551b617dc",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
									"type": "text"
								},
								{
									"key": "assertion",
									"value": "eyJhbGciOiJIUzI1NiIsImtpZCI6IjEifQ.eyJhdWQiOiJhdXRob3JpemF0aW9uLmtoZW9wcy5vbmxpbmUiLCJzdWIiOiI5ODc2NTQzMjEiLCJlbWFpbCI6InRpdGlAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImV4cCI6MjUyMjk0MzU3MiwiaXNzIjoiYXV0aG9yaXphdGlvbi5raGVvcHMub25saW5lIiwiaWF0IjoxNTIyOTM5OTcyfQ.Csj6WCBDwZlXeUOE0nX6SmReZhGZayw2yZFKWzlwysE",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/token",
							"host": [
								"{{URL}}"
							],
							"path": [
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "create user3-create",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6ea2d7bb-b849-4327-b8fe-c5003480b2d6",
								"type": "text/javascript",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"access_token_user3\", jsonObject.access_token);",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "794cf6b5-3c58-4f4f-b14b-e1a551b617dc",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
									"type": "text"
								},
								{
									"key": "assertion",
									"value": "eyJhbGciOiJIUzI1NiIsImtpZCI6IjEifQ.eyJhdWQiOiJhdXRob3JpemF0aW9uLmtoZW9wcy5vbmxpbmUiLCJzdWIiOiI5OTg4Nzc2NjU1IiwiZW1haWwiOiJ0YXRhQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJleHAiOjI1MjI5NDM1NzIsImlzcyI6ImF1dGhvcml6YXRpb24ua2hlb3BzLm9ubGluZSIsImlhdCI6MTUyMjkzOTk3Mn0.i8D9zxg1aQBjIMCBS921v7PBQ6Me2trR2a5TtVk0_Xs",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/token",
							"host": [
								"{{URL}}"
							],
							"path": [
								"token"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "album",
			"item": [
				{
					"name": "get album list-Empty",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "543e2bf6-98c6-433b-9c2e-f19f8a3c9ecc",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Empty response []\"] = responseBody == \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 0 album\"] = jsonObject.length === 0;",
									"",
									"tests[\"X-Total-Count = 0\"] = postman.getResponseHeader(\"X-Total-Count\") == 0;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an album(1)-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c09cfdaa-aa57-499c-a23c-8e26fa376e1e",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"album_id_1\", jsonObject.album_id);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_1\");",
									"",
									"tests[\"name\"] = jsonObject.name == \"name 1\"",
									"",
									"tests[\"description\"] = jsonObject.description == \"description 1\"",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == false",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
									"",
									"tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
									"",
									"tests[\"add_user\"] = jsonObject.add_user == false",
									"",
									"tests[\"download_series\"] = jsonObject.download_series == true",
									"",
									"tests[\"send_series\"] = jsonObject.send_series == false",
									"",
									"tests[\"delete_series\"] = jsonObject.delete_series == false",
									"",
									"tests[\"add_series\"] = jsonObject.add_series == true",
									"",
									"tests[\"write_comments\"] = jsonObject.write_comments == true",
									"",
									"tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
									"",
									"tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "sendSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "name",
									"value": "name 1",
									"type": "text"
								},
								{
									"key": "description",
									"value": "description 1",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list-1 album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "efde00cf-ddfb-4347-a721-351f0f476f4f",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 album\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 1\"] = postman.getResponseHeader(\"X-Total-Count\") == 1;",
									"",
									"tests[\"name\"] = jsonObject[0].name == \"name 1\"",
									"",
									"tests[\"description\"] = jsonObject[0].description == \"description 1\"",
									"",
									"tests[\"is_favorite\"] = jsonObject[0].is_favorite == false",
									"",
									"tests[\"number_of_users\"] = jsonObject[0].number_of_users == 1",
									"",
									"tests[\"number_of_comments\"] = jsonObject[0].number_of_comments == 0",
									"",
									"tests[\"number_of_studies\"] = jsonObject[0].number_of_studies == 0",
									"",
									"tests[\"add_user\"] = jsonObject[0].add_user == false",
									"",
									"tests[\"download_series\"] = jsonObject[0].download_series == true",
									"",
									"tests[\"send_series\"] = jsonObject[0].send_series == false",
									"",
									"tests[\"delete_series\"] = jsonObject[0].delete_series == false",
									"",
									"tests[\"add_series\"] = jsonObject[0].add_series == true",
									"",
									"tests[\"write_comments\"] = jsonObject[0].write_comments == true",
									"",
									"tests[\"notification_new_series\"] = jsonObject[0].notification_new_series == true",
									"",
									"tests[\"notification_new_comment\"] = jsonObject[0].notification_new_comment == true"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an album(2)-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "18907c18-71fe-49e7-9bb9-78e8070e402a",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"album_id_2\", jsonObject.album_id);",
									"",
									"tests[\"name\"] = jsonObject.name == \"name 2\"",
									"",
									"tests[\"description\"] = jsonObject.description == \"description 2\"",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == false",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
									"",
									"tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
									"",
									"tests[\"add_user\"] = jsonObject.add_user == true",
									"",
									"tests[\"download_series\"] = jsonObject.download_series == false",
									"",
									"tests[\"send_series\"] = jsonObject.send_series == false",
									"",
									"tests[\"delete_series\"] = jsonObject.delete_series == false",
									"",
									"tests[\"add_series\"] = jsonObject.add_series == false",
									"",
									"tests[\"write_comments\"] = jsonObject.write_comments == false",
									"",
									"tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
									"",
									"tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9622a218-2116-4991-9b69-e3643e174be3",
								"exec": [
									"//wait before creation for the sort filter",
									"",
									"function wait(ms)",
									"{",
									"\tvar d = new Date();",
									"\tvar d2 = null;",
									"\tdo { d2 = new Date(); }",
									"\twhile(d2-d < ms);",
									"}",
									"",
									"wait(3000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "sendSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "addUser",
									"value": "true",
									"type": "text"
								},
								{
									"key": "downloadSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "deleteSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "addSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "writeComments",
									"value": "false",
									"type": "text"
								},
								{
									"key": "name",
									"value": "name 2",
									"type": "text"
								},
								{
									"key": "description",
									"value": "description 2",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an album(3)-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "b14e9bba-8b2b-4eb5-8a3e-19e4bb6036e9",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"album_id_3\", jsonObject.album_id);",
									"",
									"tests[\"name\"] = jsonObject.name == \"name 3\"",
									"",
									"tests[\"description\"] = jsonObject.description == \"description 3\"",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == false",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
									"",
									"tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
									"",
									"tests[\"add_user\"] = jsonObject.add_user == false",
									"",
									"tests[\"download_series\"] = jsonObject.download_series == true",
									"",
									"tests[\"send_series\"] = jsonObject.send_series == true",
									"",
									"tests[\"delete_series\"] = jsonObject.delete_series == false",
									"",
									"tests[\"add_series\"] = jsonObject.add_series == true",
									"",
									"tests[\"write_comments\"] = jsonObject.write_comments == true",
									"",
									"tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
									"",
									"tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "4e40b534-ff02-4471-a1d6-6b0fe48c59c3",
								"exec": [
									"//wait before creation for the sort filter",
									"",
									"function wait(ms)",
									"{",
									"\tvar d = new Date();",
									"\tvar d2 = null;",
									"\tdo { d2 = new Date(); }",
									"\twhile(d2-d < ms);",
									"}",
									"",
									"wait(3000)"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "name",
									"value": "name 3",
									"type": "text"
								},
								{
									"key": "description",
									"value": "description 3",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "20c49142-79b4-448c-9d8b-1633832040e2",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_3\");",
									"",
									"tests[\"name\"] = jsonObject.name == \"name 3\"",
									"",
									"tests[\"description\"] = jsonObject.description == \"description 3\"",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == false",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
									"",
									"tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
									"",
									"tests[\"add_user\"] = jsonObject.add_user == false",
									"",
									"tests[\"download_series\"] = jsonObject.download_series == true",
									"",
									"tests[\"send_series\"] = jsonObject.send_series == true",
									"",
									"tests[\"delete_series\"] = jsonObject.delete_series == false",
									"",
									"tests[\"add_series\"] = jsonObject.add_series == true",
									"",
									"tests[\"write_comments\"] = jsonObject.write_comments == true",
									"",
									"tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
									"",
									"tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_3}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_3}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list-3 albums",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "62d44f57-a4bb-4ea6-a6cc-770470ff263a",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 3 album\"] = jsonObject.length === 3;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album (inbox)-Not Found",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "41ddf687-9de9-452d-aea2-346c9f5da091",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 404\"] = responseCode.code === 404;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album non existing-Not Found",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "41ddf687-9de9-452d-aea2-346c9f5da091",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 404\"] = responseCode.code === 404;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/999",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"999"
							]
						}
					},
					"response": []
				},
				{
					"name": "edit album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3bf4a4c9-3d98-4ad5-8bf0-82eae7f4e148",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_3\");",
									"",
									"tests[\"name\"] = jsonObject.name == \"rename\"",
									"",
									"tests[\"description\"] = jsonObject.description == \"redescription\"",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == false",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
									"",
									"tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
									"",
									"tests[\"add_user\"] = jsonObject.add_user == true",
									"",
									"tests[\"download_series\"] = jsonObject.download_series == false",
									"",
									"tests[\"send_series\"] = jsonObject.send_series == false",
									"",
									"tests[\"delete_series\"] = jsonObject.delete_series == true",
									"",
									"tests[\"add_series\"] = jsonObject.add_series == false",
									"",
									"tests[\"write_comments\"] = jsonObject.write_comments == false",
									"",
									"tests[\"notification_new_series\"] = jsonObject.notification_new_series == false",
									"",
									"tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "name",
									"value": "rename",
									"type": "text"
								},
								{
									"key": "description",
									"value": "redescription",
									"type": "text"
								},
								{
									"key": "addUser",
									"value": "true",
									"type": "text"
								},
								{
									"key": "downloadSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "sendSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "deleteSeries",
									"value": "true",
									"type": "text"
								},
								{
									"key": "addSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "writeComments",
									"value": "false",
									"type": "text"
								},
								{
									"key": "notificationNewSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "notificationNewComment",
									"value": "false",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_3}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_3}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "re-edit album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "57711bc3-5dd3-40f1-81ac-fb2455340cb4",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_3\");",
									"",
									"tests[\"name\"] = jsonObject.name == \"name 3\"",
									"",
									"tests[\"description\"] = jsonObject.description == \"description 3\"",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == false",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
									"",
									"tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
									"",
									"tests[\"add_user\"] = jsonObject.add_user == true",
									"",
									"tests[\"download_series\"] = jsonObject.download_series == false",
									"",
									"tests[\"send_series\"] = jsonObject.send_series == false",
									"",
									"tests[\"delete_series\"] = jsonObject.delete_series == true",
									"",
									"tests[\"add_series\"] = jsonObject.add_series == false",
									"",
									"tests[\"write_comments\"] = jsonObject.write_comments == false",
									"",
									"tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
									"",
									"tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "name",
									"value": "name 3",
									"type": "text"
								},
								{
									"key": "description",
									"value": "description 3",
									"type": "text"
								},
								{
									"key": "notificationNewSeries",
									"value": "true",
									"type": "text"
								},
								{
									"key": "notificationNewComment",
									"value": "true",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_3}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_3}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6caac9ee-c5de-4c2a-a071-187a3ddf168b",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_id_3}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_3}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "edit album-Forbidden",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2132952d-f2f2-4dde-bda6-31380284bdd1",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "name",
									"value": "rename Forbidden",
									"type": "text"
								},
								{
									"key": "description",
									"value": "redescription Forbidden",
									"type": "text"
								},
								{
									"key": "addUser",
									"value": "true",
									"type": "text"
								},
								{
									"key": "downloadSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "sendSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "deleteSeries",
									"value": "true",
									"type": "text"
								},
								{
									"key": "addSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "writeComments",
									"value": "false",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_3}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_3}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "edit album notification and more-Forbidden",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "07108cd4-bded-49fb-abf0-db8a148e3547",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "name",
									"value": "rename no effect",
									"type": "text"
								},
								{
									"key": "description",
									"value": "redescription no effect",
									"type": "text"
								},
								{
									"key": "addUser",
									"value": "true",
									"type": "text"
								},
								{
									"key": "downloadSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "sendSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "deleteSeries",
									"value": "true",
									"type": "text"
								},
								{
									"key": "addSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "writeComments",
									"value": "false",
									"type": "text"
								},
								{
									"key": "notificationNewSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "notificationNewComment",
									"value": "false",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_3}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_3}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "edit album notification-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f21ce5cc-4b72-430f-a4e7-f33e56b06d3a",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_3\");",
									"",
									"tests[\"name\"] = jsonObject.name == \"name 3\"",
									"",
									"tests[\"description\"] = jsonObject.description == \"description 3\"",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == false",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 2",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
									"",
									"tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
									"",
									"tests[\"add_user\"] = jsonObject.add_user == true",
									"",
									"tests[\"download_series\"] = jsonObject.download_series == false",
									"",
									"tests[\"send_series\"] = jsonObject.send_series == false",
									"",
									"tests[\"delete_series\"] = jsonObject.delete_series == true",
									"",
									"tests[\"add_series\"] = jsonObject.add_series == false",
									"",
									"tests[\"write_comments\"] = jsonObject.write_comments == false",
									"",
									"tests[\"notification_new_series\"] = jsonObject.notification_new_series == false",
									"",
									"tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "notificationNewSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "notificationNewComment",
									"value": "false",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_3}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_3}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "remove user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "43ce39fd-02e9-4fd1-9f27-f20b3cacd05d",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_id_3}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_3}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list filter by {name}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "89980121-d7db-4cec-9cc0-8c6a1a7bef25",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 album\"] = jsonObject.length === 1;",
									"",
									"tests[\"album_id\"] = jsonObject[0].album_id == pm.environment.get(\"album_id_1\");",
									"",
									"tests[\"name\"] = jsonObject[0].name == \"name 1\"",
									"",
									"tests[\"X-Total-Count = 1\"] = postman.getResponseHeader(\"X-Total-Count\") == 1;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?name=name 1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "name",
									"value": "name 1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list filter by {name}*",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "44e781a2-1d03-4aee-a221-2093d4702083",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 3 album\"] = jsonObject.length === 3;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?name=name*",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "name",
									"value": "name*"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list filter by *{name}",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "414d3a21-7ca8-4fe3-b8c7-eaa96b52ec95",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 album\"] = jsonObject.length === 1;",
									"",
									"tests[\"album_id\"] = jsonObject[0].album_id == pm.environment.get(\"album_id_1\");",
									"",
									"tests[\"name\"] = jsonObject[0].name == \"name 1\"",
									"",
									"tests[\"X-Total-Count = 1\"] = postman.getResponseHeader(\"X-Total-Count\") == 1;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?name=*me 1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "name",
									"value": "*me 1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list filter by *{name}*",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "86d01e12-b9c4-4a16-850f-3307e96cb77c",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 3 album\"] = jsonObject.length === 3;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?name=*me*",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "name",
									"value": "*me*"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list filter by {fuzzymatching}=true",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c41f7adb-b4b9-418c-943e-85d1e7b348cf",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 3 album\"] = jsonObject.length === 3;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?name=nm&fuzzymatching=true",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "name",
									"value": "nm"
								},
								{
									"key": "fuzzymatching",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list filter by {favorite}=true",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "87d79b5a-3d4d-4863-baf4-86ff91ebe597",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Empty response []\"] = responseBody == \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 0 album\"] = jsonObject.length === 0;",
									"",
									"tests[\"X-Total-Count = 0\"] = postman.getResponseHeader(\"X-Total-Count\") == 0;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?favorite=true",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "favorite",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list filter by {favorite}=false",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a1f1f485-1e19-4d08-8521-7a1ae3af03da",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 3 album\"] = jsonObject.length === 3;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?favorite=false",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "favorite",
									"value": "false"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list filter by limit offset",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "16bf7745-f4e6-4e2c-84d3-a921ee55b73b",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 album\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"name\"] = jsonObject[0].name == \"name 2\"",
									"",
									"tests[\"description\"] = jsonObject[0].description == \"description 2\"",
									"",
									"tests[\"is_favorite\"] = jsonObject[0].is_favorite == false",
									"",
									"tests[\"number_of_users\"] = jsonObject[0].number_of_users == 1",
									"",
									"tests[\"number_of_comments\"] = jsonObject[0].number_of_comments == 0",
									"",
									"tests[\"number_of_studies\"] = jsonObject[0].number_of_studies == 0",
									"",
									"tests[\"add_user\"] = jsonObject[0].add_user == true",
									"",
									"tests[\"download_series\"] = jsonObject[0].download_series == false",
									"",
									"tests[\"send_series\"] = jsonObject[0].send_series == false",
									"",
									"tests[\"delete_series\"] = jsonObject[0].delete_series == false",
									"",
									"tests[\"add_series\"] = jsonObject[0].add_series == false",
									"",
									"tests[\"write_comments\"] = jsonObject[0].write_comments == false",
									"",
									"tests[\"notification_new_series\"] = jsonObject[0].notification_new_series == true",
									"",
									"tests[\"notification_new_comment\"] = jsonObject[0].notification_new_comment == true"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?limit=1&offset=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "limit",
									"value": "1"
								},
								{
									"key": "offset",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list filter by limit offset-Bad Params",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "cbfcd49b-9eff-472e-b56c-57fa17fcebe3",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?limit=aaa",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "limit",
									"value": "aaa"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list filter by limit offset-Bad Params",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "cbfcd49b-9eff-472e-b56c-57fa17fcebe3",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 400\"] = responseCode.code === 400;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?limit=-3",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "limit",
									"value": "-3"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list sort by -name",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "51ba1915-88d2-46d4-a960-f716d5d90821",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 3 albums\"] = jsonObject.length === 3;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"name_0\"] = jsonObject[0].name == \"name 3\"",
									"",
									"tests[\"name_1\"] = jsonObject[1].name == \"name 2\"",
									"",
									"tests[\"name_2\"] = jsonObject[2].name == \"name 1\""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?sort=-name",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "sort",
									"value": "-name"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list sort by name",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d0abaf30-2436-4899-abc0-42353f30ce3c",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 3 albums\"] = jsonObject.length === 3;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"name_0\"] = jsonObject[0].name == \"name 1\"",
									"",
									"tests[\"name_1\"] = jsonObject[1].name == \"name 2\"",
									"",
									"tests[\"name_2\"] = jsonObject[2].name == \"name 3\""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?sort=name",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "sort",
									"value": "name"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list sort by created_time",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d0abaf30-2436-4899-abc0-42353f30ce3c",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 3 albums\"] = jsonObject.length === 3;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"name_0\"] = jsonObject[0].name == \"name 1\"",
									"",
									"tests[\"name_1\"] = jsonObject[1].name == \"name 2\"",
									"",
									"tests[\"name_2\"] = jsonObject[2].name == \"name 3\""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?sort=created_time",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "sort",
									"value": "created_time"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list sort by -created_time",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0404f8a3-1be0-4791-82c5-85b980a3a83b",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 3 albums\"] = jsonObject.length === 3;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"name_0\"] = jsonObject[0].name == \"name 3\"",
									"",
									"tests[\"name_1\"] = jsonObject[1].name == \"name 2\"",
									"",
									"tests[\"name_2\"] = jsonObject[2].name == \"name 1\""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?sort=-created_time",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "sort",
									"value": "-created_time"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "delete album (inbox)-Not Found",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a5c0e200-6fca-449d-9f8b-0f818553621d",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 404\"] = responseCode.code === 404;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"1"
							]
						}
					},
					"response": []
				},
				{
					"name": "delete album non existing-Not Found",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c63fb886-ca4a-461b-943f-e5adfab39a62",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 404\"] = responseCode.code === 404;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/999",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"999"
							]
						}
					},
					"response": []
				},
				{
					"name": "delete album-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11bfe9a2-844b-4bff-99ed-5a9bff8e4c77",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_1}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "favorite",
			"item": [
				{
					"name": "Create an album-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f18fac9a-2516-4078-a31c-943917641cf5",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"album_favorite_id_1\", jsonObject.album_id);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_favorite_id_1\");",
									"",
									"tests[\"name\"] = jsonObject.name == \"name 1\"",
									"",
									"tests[\"description\"] = jsonObject.description == \"description 1\"",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == false",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
									"",
									"tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
									"",
									"tests[\"add_user\"] = jsonObject.add_user == false",
									"",
									"tests[\"download_series\"] = jsonObject.download_series == true",
									"",
									"tests[\"send_series\"] = jsonObject.send_series == false",
									"",
									"tests[\"delete_series\"] = jsonObject.delete_series == false",
									"",
									"tests[\"add_series\"] = jsonObject.add_series == true",
									"",
									"tests[\"write_comments\"] = jsonObject.write_comments == true",
									"",
									"tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
									"",
									"tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "sendSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "name",
									"value": "name 1",
									"type": "text"
								},
								{
									"key": "description",
									"value": "description 1",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6caac9ee-c5de-4c2a-a071-187a3ddf168b",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_favorite_id_1}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_favorite_id_1}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "add to favorites user 1-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "122408ad-933b-431d-ba75-89c12faa1e82",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_favorite_id_1}}/favorites",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_favorite_id_1}}",
								"favorites"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album-OK not favorite for user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "de8cd6bc-aa5c-4be4-95e9-01f7656a891a",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_favorite_id_1\")",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == false",
									"",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_favorite_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_favorite_id_1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album-OK favorite for user 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8b4e8535-0ef3-4824-b1b5-be8b78552cf2",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_favorite_id_1\");",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == true",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_favorite_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_favorite_id_1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album list filter by {favorite}=true",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fe810515-a16b-4263-9850-0a5490a54776",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 album\"] = jsonObject.length === 1;",
									"",
									"tests[\"album_id\"] = jsonObject[0].album_id == pm.environment.get(\"album_favorite_id_1\");",
									"",
									"tests[\"is_favorite\"] = jsonObject[0].is_favorite == true",
									"",
									"tests[\"X-Total-Count = 1\"] = postman.getResponseHeader(\"X-Total-Count\") == 1;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album?favorite=true",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							],
							"query": [
								{
									"key": "favorite",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "remove favorites user 1-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f0d1cb22-78d9-4734-a4a3-4895760285af",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_favorite_id_1}}/favorites",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_favorite_id_1}}",
								"favorites"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album-OK not favorite for user 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "de8cd6bc-aa5c-4be4-95e9-01f7656a891a",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_favorite_id_1\")",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == false",
									"",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_favorite_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_favorite_id_1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "add to favorites-bad album id",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6a2030e1-765e-4126-b62a-3bcd69078e55",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 404\"] = responseCode.code === 404;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/1/favorites",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"1",
								"favorites"
							]
						}
					},
					"response": []
				},
				{
					"name": "user 2 quit album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "42c61bda-274a-498c-bc85-243b637c6fef",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_favorite_id_1}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_favorite_id_1}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "add to favorites-user not a member",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d08027f1-7a2c-4ce0-849f-80015675caca",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 404\"] = responseCode.code === 404;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_favorite_id_1}}/favorites",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_favorite_id_1}}",
								"favorites"
							]
						}
					},
					"response": []
				},
				{
					"name": "remove favorites-bad album id",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d45f19ea-377b-4c93-9ddd-be14c14a6830",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 404\"] = responseCode.code === 404;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/99/favorites",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"99",
								"favorites"
							]
						}
					},
					"response": []
				},
				{
					"name": "remove favorites-user not a member",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "31edb652-4e6b-4787-9159-1ca407768685",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 404\"] = responseCode.code === 404;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_favorite_id_1}}/favorites",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_favorite_id_1}}",
								"favorites"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "user",
			"item": [
				{
					"name": "Create an album-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "105209f3-5569-4454-989a-77f2de5d06e3",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"album_user_id_1\", jsonObject.album_id);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_user_id_1\");",
									"",
									"tests[\"name\"] = jsonObject.name == \"name 1\"",
									"",
									"tests[\"description\"] = jsonObject.description == \"description 1\"",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == false",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
									"",
									"tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
									"",
									"tests[\"add_user\"] = jsonObject.add_user == false",
									"",
									"tests[\"download_series\"] = jsonObject.download_series == true",
									"",
									"tests[\"send_series\"] = jsonObject.send_series == false",
									"",
									"tests[\"delete_series\"] = jsonObject.delete_series == false",
									"",
									"tests[\"add_series\"] = jsonObject.add_series == true",
									"",
									"tests[\"write_comments\"] = jsonObject.write_comments == true",
									"",
									"tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
									"",
									"tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "sendSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "name",
									"value": "name 1",
									"type": "text"
								},
								{
									"key": "description",
									"value": "description 1",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				},
				{
					"name": "get users album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "af79aff8-0cf1-48cb-be26-9fcaebc2f2a6",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 user\"] = jsonObject.length === 1;",
									"",
									"tests[\"user_name\"] = jsonObject[0].user_name == \"toto@gmail.com\"",
									"",
									"tests[\"is_admin\"] = jsonObject[0].is_admin == true"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6caac9ee-c5de-4c2a-a071-187a3ddf168b",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "28d0c565-ef9e-44df-9557-32886bb8cef9",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_user_id_1\");",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 2"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get users album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f8a173a0-4429-45da-b816-42f05e667f1e",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 users\"] = jsonObject.length === 2;",
									"",
									"tests[\"user_name_0\"] = jsonObject[0].user_name == \"titi@gmail.com\"",
									"",
									"tests[\"is_admin_0\"] = jsonObject[0].is_admin == false",
									"",
									"tests[\"user_name_1\"] = jsonObject[1].user_name == \"toto@gmail.com\"",
									"",
									"tests[\"is_admin_1\"] = jsonObject[1].is_admin == true"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "promote user 2 admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a6f486ad-c871-4592-93ca-50e771b50037",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user2}}/admin",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user2}}",
								"admin"
							]
						}
					},
					"response": []
				},
				{
					"name": "get users album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d7f17c48-ba99-4eea-a130-2acd1f1fa552",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 users\"] = jsonObject.length === 2;",
									"",
									"tests[\"user_name_0\"] = jsonObject[0].user_name == \"titi@gmail.com\"",
									"",
									"tests[\"is_admin_0\"] = jsonObject[0].is_admin == true",
									"",
									"tests[\"user_name_1\"] = jsonObject[1].user_name == \"toto@gmail.com\"",
									"",
									"tests[\"is_admin_1\"] = jsonObject[1].is_admin == true"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "demote user 2 admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8ce76431-c502-4b35-bb2f-cdecefac9307",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user2}}/admin",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user2}}",
								"admin"
							]
						}
					},
					"response": []
				},
				{
					"name": "get users album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "355843b1-94f4-40ea-84ae-25161168a6c7",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 users\"] = jsonObject.length === 2;",
									"",
									"tests[\"user_name_0\"] = jsonObject[0].user_name == \"titi@gmail.com\"",
									"",
									"tests[\"is_admin_0\"] = jsonObject[0].is_admin == false",
									"",
									"tests[\"user_name_1\"] = jsonObject[1].user_name == \"toto@gmail.com\"",
									"",
									"tests[\"is_admin_1\"] = jsonObject[1].is_admin == true"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "remove user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "43ce39fd-02e9-4fd1-9f27-f20b3cacd05d",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "05fc8eae-50e7-4f37-ad29-c6bbff1dc4fe",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_user_id_1\");",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 1"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get users album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "25a12489-954b-4946-9281-873708866221",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 user\"] = jsonObject.length === 1;",
									"",
									"tests[\"user_name_0\"] = jsonObject[0].user_name == \"toto@gmail.com\"",
									"",
									"tests[\"is_admin_0\"] = jsonObject[0].is_admin == true",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2c93a6e4-8f3e-4dbe-8f69-01a3542ca24f",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get users album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e03a4977-98f1-4ce2-ba36-4001a5a7aa9d",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 users\"] = jsonObject.length === 2;",
									"",
									"tests[\"user_name_0\"] = jsonObject[0].user_name == \"titi@gmail.com\"",
									"",
									"tests[\"is_admin_0\"] = jsonObject[0].is_admin == false",
									"",
									"tests[\"user_name_1\"] = jsonObject[1].user_name == \"toto@gmail.com\"",
									"",
									"tests[\"is_admin_1\"] = jsonObject[1].is_admin == true"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "user 2 quit album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "42c61bda-274a-498c-bc85-243b637c6fef",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get users album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f79d5626-5f03-4f85-bef1-2a948f63051d",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 users\"] = jsonObject.length === 1;",
									"",
									"tests[\"user_name\"] = jsonObject[0].user_name == \"toto@gmail.com\"",
									"",
									"tests[\"is_admin\"] = jsonObject[0].is_admin == true"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "user 2 quit album-Not a member",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3655d83b-f76d-4dc2-994e-57e287da2039",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 404\"] = responseCode.code === 404;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "self add user 2-Not a member",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4e82ae60-e445-4f90-9a8a-f5448eb9e452",
								"exec": [
									"tests[\"Status code is 404\"] = responseCode.code === 404;"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d9f47810-b5c0-4c3e-bf3e-058307df3914",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get users album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "67dbddfb-9184-42d0-b69e-8aa0a577d7c2",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 users\"] = jsonObject.length === 2;",
									"",
									"tests[\"user_name_0\"] = jsonObject[0].user_name == \"titi@gmail.com\"",
									"",
									"tests[\"is_admin_0\"] = jsonObject[0].is_admin == false",
									"",
									"tests[\"user_name_1\"] = jsonObject[1].user_name == \"toto@gmail.com\"",
									"",
									"tests[\"is_admin_1\"] = jsonObject[1].is_admin == true"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "self promote user 2 admin-Forbidden",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38990284-96e1-4bdc-a21b-11ed93122674",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user2}}/admin",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user2}}",
								"admin"
							]
						}
					},
					"response": []
				},
				{
					"name": "demote user 1 admin by a non-admin-Forbidden",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9267969e-8d15-4677-a4f9-f950a4f6f62a",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user1}}/admin",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user1}}",
								"admin"
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 2 directly admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a6f486ad-c871-4592-93ca-50e771b50037",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user2}}/admin",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user2}}",
								"admin"
							]
						}
					},
					"response": []
				},
				{
					"name": "get users album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "d7f17c48-ba99-4eea-a130-2acd1f1fa552",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 users\"] = jsonObject.length === 2;",
									"",
									"tests[\"user_name_0\"] = jsonObject[0].user_name == \"titi@gmail.com\"",
									"",
									"tests[\"is_admin_0\"] = jsonObject[0].is_admin == true",
									"",
									"tests[\"user_name_1\"] = jsonObject[1].user_name == \"toto@gmail.com\"",
									"",
									"tests[\"is_admin_1\"] = jsonObject[1].is_admin == true"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "demote user 2 admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8ce76431-c502-4b35-bb2f-cdecefac9307",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user2}}/admin",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user2}}",
								"admin"
							]
						}
					},
					"response": []
				},
				{
					"name": "edit album (addUser permission)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c53cac0a-cb06-494f-afdb-5d3503f53346",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_user_id_1\");",
									"",
									"tests[\"add_user\"] = jsonObject.add_user == true",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "addUser",
									"value": "true",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "user 1 quit album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "42c61bda-274a-498c-bc85-243b637c6fef",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "482ed9e7-17d2-4a7f-aa1d-23849eb41124",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/{{user1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"{{user1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "add Bad user",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f159e700-6c56-4b82-81fa-276a61126623",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 404\"] = responseCode.code === 404;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users/11111111",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users",
								"11111111"
							]
						}
					},
					"response": []
				},
				{
					"name": "get users album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "926f0d1c-7ca5-4e0e-9bb2-35eeddda6cea",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 users\"] = jsonObject.length === 2;",
									"",
									"tests[\"user_name_0\"] = jsonObject[0].user_name == \"titi@gmail.com\"",
									"",
									"tests[\"is_admin_0\"] = jsonObject[0].is_admin == false",
									"",
									"tests[\"user_name_1\"] = jsonObject[1].user_name == \"toto@gmail.com\"",
									"",
									"tests[\"is_admin_1\"] = jsonObject[1].is_admin == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_user_id_1}}/users",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_user_id_1}}",
								"users"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "comments",
			"item": [
				{
					"name": "Create an album-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e10c7f58-c696-43e7-979b-9c28b899124a",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"album_id_comment\", jsonObject.album_id);"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "sendSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "name",
									"value": "a name",
									"type": "text"
								},
								{
									"key": "description",
									"value": "a description",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				},
				{
					"name": "album post comment",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6394d760-a827-4bb3-9b2b-327181c02fcd",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "comment 1",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0b2cbfe7-a935-4df8-a287-a6ce721b6b4d",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 comment\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 1\"] = postman.getResponseHeader(\"X-Total-Count\") == 1;",
									"",
									"tests[\"event_type\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment\"] = jsonObject[0].comment == \"comment 1\"",
									"",
									"tests[\"is_private\"] = jsonObject[0].is_private == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "album post comment",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "208217ca-f974-42b5-af20-4d5bbe3b0af9",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;",
									"",
									"function wait(ms)",
									"{",
									"    var d = new Date();",
									"    var d2 = null;",
									"    do { d2 = new Date(); }",
									"    while(d2-d < ms);",
									"}",
									"",
									"wait(3000);"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "811ae163-12e2-478b-a5ae-0901f29d67ff",
								"type": "text/javascript",
								"exec": [
									"function wait(ms)",
									"{",
									"    var d = new Date();",
									"    var d2 = null;",
									"    do { d2 = new Date(); }",
									"    while(d2-d < ms);",
									"}",
									"",
									"wait(3000);"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "comment 2",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "album post private comment-User not a member",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "df6a6d48-2274-46b3-bd9b-a3016c472d11",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 404\"] = responseCode.code === 404;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "comment 3",
									"type": "text"
								},
								{
									"key": "to_user",
									"value": "{{user2}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6767f85f-4f99-43d7-872c-186d740dae12",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6767f85f-4f99-43d7-872c-186d740dae12",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/users/{{user3}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"users",
								"{{user3}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "album post private comment-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6394d760-a827-4bb3-9b2b-327181c02fcd",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "comment 3",
									"type": "text"
								},
								{
									"key": "to_user",
									"value": "{{user2}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments by user 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "4cf72b03-1be4-47ed-a0c5-e19362705733",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 3 comment\"] = jsonObject.length === 3;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_0\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_0\"] = jsonObject[0].comment == \"comment 3\"",
									"",
									"tests[\"is_private_0\"] = jsonObject[0].is_private == true",
									"",
									"tests[\"target_name_0\"] = jsonObject[0].target_name == \"titi@gmail.com\"",
									"",
									"",
									"tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_1\"] = jsonObject[1].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_1\"] = jsonObject[1].comment == \"comment 2\"",
									"",
									"tests[\"is_private_1\"] = jsonObject[1].is_private == false",
									"",
									"",
									"",
									"tests[\"event_type_2\"] = jsonObject[2].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_2\"] = jsonObject[2].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_2\"] = jsonObject[2].comment == \"comment 1\"",
									"",
									"tests[\"is_private_2\"] = jsonObject[2].is_private == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments by user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f0e82f41-5bb9-421b-b91b-c214e12285f5",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 3 comment\"] = jsonObject.length === 3;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_0\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_0\"] = jsonObject[0].comment == \"comment 3\"",
									"",
									"tests[\"is_private_0\"] = jsonObject[0].is_private == true",
									"",
									"tests[\"target_name_0\"] = jsonObject[0].target_name == \"titi@gmail.com\"",
									"",
									"",
									"tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_1\"] = jsonObject[1].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_1\"] = jsonObject[1].comment == \"comment 2\"",
									"",
									"tests[\"is_private_1\"] = jsonObject[1].is_private == false",
									"",
									"",
									"",
									"tests[\"event_type_2\"] = jsonObject[2].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_2\"] = jsonObject[2].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_2\"] = jsonObject[2].comment == \"comment 1\"",
									"",
									"tests[\"is_private_2\"] = jsonObject[2].is_private == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments by user 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a9a343de-4a7e-4cc1-9e42-9ced07b09750",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 comment\"] = jsonObject.length === 2;",
									"",
									"tests[\"X-Total-Count = 2\"] = postman.getResponseHeader(\"X-Total-Count\") == 2;",
									"",
									"",
									"tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_0\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_0\"] = jsonObject[0].comment == \"comment 2\"",
									"",
									"tests[\"is_private_0\"] = jsonObject[0].is_private == false",
									"",
									"",
									"",
									"tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_1\"] = jsonObject[1].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_1\"] = jsonObject[1].comment == \"comment 1\"",
									"",
									"tests[\"is_private_1\"] = jsonObject[1].is_private == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user3}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments limit by user 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fcb8cbea-2f02-4b25-b805-6f5d69d4dff3",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 comment\"] = jsonObject.length === 2;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_0\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_0\"] = jsonObject[0].comment == \"comment 3\"",
									"",
									"tests[\"is_private_0\"] = jsonObject[0].is_private == true",
									"",
									"tests[\"target_name_0\"] = jsonObject[0].target_name == \"titi@gmail.com\"",
									"",
									"",
									"tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_1\"] = jsonObject[1].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_1\"] = jsonObject[1].comment == \"comment 2\"",
									"",
									"tests[\"is_private_1\"] = jsonObject[1].is_private == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments&limit=2",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								},
								{
									"key": "limit",
									"value": "2"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments limit by user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "9ed86b3e-3539-4789-b567-c7a9545d1b78",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 comment\"] = jsonObject.length === 2;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_0\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_0\"] = jsonObject[0].comment == \"comment 3\"",
									"",
									"tests[\"is_private_0\"] = jsonObject[0].is_private == true",
									"",
									"tests[\"target_name_0\"] = jsonObject[0].target_name == \"titi@gmail.com\"",
									"",
									"",
									"tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_1\"] = jsonObject[1].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_1\"] = jsonObject[1].comment == \"comment 2\"",
									"",
									"tests[\"is_private_1\"] = jsonObject[1].is_private == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments&limit=2",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								},
								{
									"key": "limit",
									"value": "2"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments limit by user 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8fdccdd7-1284-40e5-96f9-06a56236ad60",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 comment\"] = jsonObject.length === 2;",
									"",
									"tests[\"X-Total-Count = 2\"] = postman.getResponseHeader(\"X-Total-Count\") == 2;",
									"",
									"",
									"",
									"tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_0\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_0\"] = jsonObject[0].comment == \"comment 2\"",
									"",
									"tests[\"is_private_0\"] = jsonObject[0].is_private == false",
									"",
									"",
									"",
									"tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_1\"] = jsonObject[1].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_1\"] = jsonObject[1].comment == \"comment 1\"",
									"",
									"tests[\"is_private_1\"] = jsonObject[1].is_private == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user3}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments&limit=2",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								},
								{
									"key": "limit",
									"value": "2"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments offset by user 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7b653e07-4eb9-481c-bfa6-b7beb2b52eee",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 comment\"] = jsonObject.length === 2;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_0\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_0\"] = jsonObject[0].comment == \"comment 2\"",
									"",
									"tests[\"is_private_0\"] = jsonObject[0].is_private == false",
									"",
									"",
									"tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_1\"] = jsonObject[1].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_1\"] = jsonObject[1].comment == \"comment 1\"",
									"",
									"tests[\"is_private_1\"] = jsonObject[1].is_private == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments&offset=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								},
								{
									"key": "offset",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments offset by user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "e4b8bd12-d92f-45c0-94a6-4a6c6bae021a",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 2 comment\"] = jsonObject.length === 2;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_0\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_0\"] = jsonObject[0].comment == \"comment 2\"",
									"",
									"tests[\"is_private_0\"] = jsonObject[0].is_private == false",
									"",
									"",
									"tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name_1\"] = jsonObject[1].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment_1\"] = jsonObject[1].comment == \"comment 1\"",
									"",
									"tests[\"is_private_1\"] = jsonObject[1].is_private == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments&offset=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								},
								{
									"key": "offset",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments offset by user 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a909510f-ba23-4a78-a626-6343a8dc54d1",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 comment\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 2\"] = postman.getResponseHeader(\"X-Total-Count\") == 2;",
									"",
									"tests[\"event_type\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment\"] = jsonObject[0].comment == \"comment 1\"",
									"",
									"tests[\"is_private\"] = jsonObject[0].is_private == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user3}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments&offset=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								},
								{
									"key": "offset",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments limit offset by user 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "743b399e-317e-42d6-a74a-b23f39a6e8e1",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 comment\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"event_type\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment\"] = jsonObject[0].comment == \"comment 2\"",
									"",
									"tests[\"is_private\"] = jsonObject[0].is_private == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments&limit=1&offset=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								},
								{
									"key": "limit",
									"value": "1"
								},
								{
									"key": "offset",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments limit offset by user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6b25b7cd-6091-42a6-a825-279b4689e467",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 comment\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"event_type\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment\"] = jsonObject[0].comment == \"comment 2\"",
									"",
									"tests[\"is_private\"] = jsonObject[0].is_private == false",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments&limit=1&offset=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								},
								{
									"key": "limit",
									"value": "1"
								},
								{
									"key": "offset",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments limit offset by user 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "11c6cc7d-0c9a-455f-bf4b-07f9fa50c0c2",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 comment\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 2\"] = postman.getResponseHeader(\"X-Total-Count\") == 2;",
									"",
									"tests[\"event_type\"] = jsonObject[0].event_type ==  \"Comment\"",
									"",
									"tests[\"origin_name\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"comment\"] = jsonObject[0].comment == \"comment 1\"",
									"",
									"tests[\"is_private\"] = jsonObject[0].is_private == false"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user3}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}/events?types=comments&limit=1&offset=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								},
								{
									"key": "limit",
									"value": "1"
								},
								{
									"key": "offset",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get album by user 1 3 comments-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5c0084c3-397f-42f0-bfce-9f5d30a6f95e",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_comment\");",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 3",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 3"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album by user 2 3 comments-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5c0084c3-397f-42f0-bfce-9f5d30a6f95e",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_comment\");",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 3",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 3"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get album by user 3 2 comments-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3787b72b-5799-4902-83b2-d684d36f64a1",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_comment\");",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 3",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 2"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user3}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "description",
									"value": "{{description}}",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_comment}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_comment}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "mutation",
			"item": [
				{
					"name": "Create an album-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "378ddc80-87e5-4e0b-a65c-faefcd6e7b23",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"album_id_mutation\", jsonObject.album_id);"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "sendSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "name",
									"value": "a name",
									"type": "text"
								},
								{
									"key": "description",
									"value": "a description",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				},
				{
					"name": "get CREATE_ALBUM mutation",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "fdbc61ea-6376-4fdc-9e04-a02623cd8435",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 1\"] = postman.getResponseHeader(\"X-Total-Count\") == 1;",
									"",
									"tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
									"",
									"tests[\"origin_name\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"CREATE_ALBUM\"",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "2b17e94a-964d-4ee5-b898-92d5614240ac",
								"type": "text/javascript",
								"exec": [
									"function wait(ms)",
									"{",
									"    var d = new Date();",
									"    var d2 = null;",
									"    do { d2 = new Date(); }",
									"    while(d2-d < ms);",
									"}",
									"",
									"wait(3000);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/events?types=mutations&limit=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "mutations"
								},
								{
									"key": "limit",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6767f85f-4f99-43d7-872c-186d740dae12",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get ADD_USER mutation",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "5422f18f-a8bc-4469-b61e-473615c3f6c1",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 2\"] = postman.getResponseHeader(\"X-Total-Count\") == 2;",
									"",
									"tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
									"",
									"tests[\"origin_name\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"target_name\"] = jsonObject[0].target_name == \"titi@gmail.com\"",
									"",
									"tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"ADD_USER\"",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "e3489fc7-e27c-44eb-9b6e-cb1a5b3c4d38",
								"type": "text/javascript",
								"exec": [
									"function wait(ms)",
									"{",
									"    var d = new Date();",
									"    var d2 = null;",
									"    do { d2 = new Date(); }",
									"    while(d2-d < ms);",
									"}",
									"",
									"wait(3000);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/events?types=mutations&limit=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "mutations"
								},
								{
									"key": "limit",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "user 2 quit album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "42c61bda-274a-498c-bc85-243b637c6fef",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get LEAVE_ALBUM mutation",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c6b242b9-cc21-42d9-9640-46557d1f8edf",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									"",
									"tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
									"",
									"tests[\"origin_name\"] = jsonObject[0].origin_name == \"titi@gmail.com\"",
									"",
									"tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"LEAVE_ALBUM\"",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "e254f57d-41e7-42b3-a7ab-22ef4c94304f",
								"type": "text/javascript",
								"exec": [
									"function wait(ms)",
									"{",
									"    var d = new Date();",
									"    var d2 = null;",
									"    do { d2 = new Date(); }",
									"    while(d2-d < ms);",
									"}",
									"",
									"wait(3000);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/events?types=mutations&limit=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "mutations"
								},
								{
									"key": "limit",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 2 admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a6f486ad-c871-4592-93ca-50e771b50037",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/users/{{user2}}/admin",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"users",
								"{{user2}}",
								"admin"
							]
						}
					},
					"response": []
				},
				{
					"name": "get ADD_ADMIN mutation",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a9d09304-8fdc-470e-81b0-5c116a85c332",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 4\"] = postman.getResponseHeader(\"X-Total-Count\") == 4;",
									"",
									"tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
									"",
									"tests[\"origin_name\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"target_name\"] = jsonObject[0].target_name == \"titi@gmail.com\"",
									"",
									"tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"ADD_ADMIN\"",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "de75bd05-025f-4f7e-bb2d-660ffc9bc1aa",
								"type": "text/javascript",
								"exec": [
									"function wait(ms)",
									"{",
									"    var d = new Date();",
									"    var d2 = null;",
									"    do { d2 = new Date(); }",
									"    while(d2-d < ms);",
									"}",
									"",
									"wait(3000);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/events?types=mutations&limit=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "mutations"
								},
								{
									"key": "limit",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "demote user 2 admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8ce76431-c502-4b35-bb2f-cdecefac9307",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/users/{{user2}}/admin",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"users",
								"{{user2}}",
								"admin"
							]
						}
					},
					"response": []
				},
				{
					"name": "get DEMOTE_ADMIN mutation",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f0fcde6e-c8a3-4263-bbff-e66748b4fd58",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 5\"] = postman.getResponseHeader(\"X-Total-Count\") == 5;",
									"",
									"tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
									"",
									"tests[\"origin_name\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"target_name\"] = jsonObject[0].target_name == \"titi@gmail.com\"",
									"",
									"tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"DEMOTE_ADMIN\"",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "b0c6bb40-637a-4c28-85c6-9d5c308c2444",
								"type": "text/javascript",
								"exec": [
									"function wait(ms)",
									"{",
									"    var d = new Date();",
									"    var d2 = null;",
									"    do { d2 = new Date(); }",
									"    while(d2-d < ms);",
									"}",
									"",
									"wait(3000);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/events?types=mutations&limit=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "mutations"
								},
								{
									"key": "limit",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "promote user 2 admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a6f486ad-c871-4592-93ca-50e771b50037",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/users/{{user2}}/admin",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"users",
								"{{user2}}",
								"admin"
							]
						}
					},
					"response": []
				},
				{
					"name": "get PROMOTE_ADMIN mutation",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "0832f5f3-d3e3-426f-82d9-9bc3afa7c6a9",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 6\"] = postman.getResponseHeader(\"X-Total-Count\") == 6;",
									"",
									"tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
									"",
									"tests[\"origin_name\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"target_name\"] = jsonObject[0].target_name == \"titi@gmail.com\"",
									"",
									"tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"PROMOTE_ADMIN\"",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "de75bd05-025f-4f7e-bb2d-660ffc9bc1aa",
								"type": "text/javascript",
								"exec": [
									"function wait(ms)",
									"{",
									"    var d = new Date();",
									"    var d2 = null;",
									"    do { d2 = new Date(); }",
									"    while(d2-d < ms);",
									"}",
									"",
									"wait(3000);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/events?types=mutations&limit=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "mutations"
								},
								{
									"key": "limit",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "remove user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "43ce39fd-02e9-4fd1-9f27-f20b3cacd05d",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "get REMOVE_USER mutation",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "52f5e3f7-e670-46fb-85e7-0046c5836bde",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
									"",
									"tests[\"X-Total-Count = 7\"] = postman.getResponseHeader(\"X-Total-Count\") == 7;",
									"",
									"tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
									"",
									"tests[\"origin_name\"] = jsonObject[0].origin_name == \"toto@gmail.com\"",
									"",
									"tests[\"target_name\"] = jsonObject[0].target_name == \"titi@gmail.com\"",
									"",
									"tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"REMOVE_USER\"",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "93296f51-f95e-435b-bee2-46b9f377a49c",
								"type": "text/javascript",
								"exec": [
									"function wait(ms)",
									"{",
									"    var d = new Date();",
									"    var d2 = null;",
									"    do { d2 = new Date(); }",
									"    while(d2-d < ms);",
									"}",
									"",
									"wait(3000);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/events?types=mutations&limit=1",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "mutations"
								},
								{
									"key": "limit",
									"value": "1"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all mutations",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "f405f138-a6c4-4d0c-8ef1-6a4cbec5f40c",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 7 mutations\"] = jsonObject.length === 7;",
									"",
									"tests[\"X-Total-Count = 7\"] = postman.getResponseHeader(\"X-Total-Count\") == 7;",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "aad46e9a-0f1b-48b2-a924-49ac01ad802f",
								"type": "text/javascript",
								"exec": [
									"function wait(ms)",
									"{",
									"    var d = new Date();",
									"    var d2 = null;",
									"    do { d2 = new Date(); }",
									"    while(d2-d < ms);",
									"}",
									"",
									"wait(1000);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/events?types=mutations",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "mutations"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "album post comment",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6394d760-a827-4bb3-9b2b-327181c02fcd",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "comment 1",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "album post comment",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6394d760-a827-4bb3-9b2b-327181c02fcd",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "comment 1",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "album post comment",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6394d760-a827-4bb3-9b2b-327181c02fcd",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "81c46b78-6051-403a-b41d-10343c01a237",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "comment 1",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"comments"
							]
						}
					},
					"response": []
				},
				{
					"name": "get all comments",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "2ec051c1-37ee-4782-bda8-50e2de355ac4",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 3 comments\"] = jsonObject.length === 3;",
									"",
									"tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "cbe7e1c5-9fb8-4146-9f6a-83bc48738c9e",
								"type": "text/javascript",
								"exec": [
									"function wait(ms)",
									"{",
									"    var d = new Date();",
									"    var d2 = null;",
									"    do { d2 = new Date(); }",
									"    while(d2-d < ms);",
									"}",
									"",
									"wait(3000);"
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/events?types=comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "comments"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all mutations and comments with types",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c0bbc09c-8448-49bb-9486-44339a4f8088",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 10 events\"] = jsonObject.length === 10;",
									"",
									"tests[\"X-Total-Count = 10\"] = postman.getResponseHeader(\"X-Total-Count\") == 10;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "096d3ad4-998f-4842-9148-2544e2da7732",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/events?types=mutations&types=comments",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"events"
							],
							"query": [
								{
									"key": "types",
									"value": "mutations"
								},
								{
									"key": "types",
									"value": "comments"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "get all mutations and comments without types",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "317464a7-ce13-4aa6-b6f2-f3cd39bacddf",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 10 events\"] = jsonObject.length === 10;",
									"",
									"tests[\"X-Total-Count = 10\"] = postman.getResponseHeader(\"X-Total-Count\") == 10;",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "d77d1d2d-4d70-4808-8d25-466774295116",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "comment",
									"value": "my first comment",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album/{{album_id_mutation}}/events",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_mutation}}",
								"events"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "sharing",
			"item": [
				{
					"name": "Create an album-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "99c69f67-f218-4f61-8724-5c0e8004e0a9",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"album_id_sharing\", jsonObject.album_id);"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "sendSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "name",
									"value": "a name",
									"type": "text"
								},
								{
									"key": "description",
									"value": "a description",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				},
				{
					"name": "user1 get studies list-Empty",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ecfbfd8c-6ada-4524-bfcc-b227972a4a14",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;",
									"",
									"tests[\"Empty response\"] = responseBody == \"\"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "33ba6afb-79c2-48b1-bead-9aef63edcdb4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies/?inbox",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								""
							],
							"query": [
								{
									"key": "inbox",
									"value": null
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "STOW RS inside inbox",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "10934521-c04a-4f45-9aa9-60e322018d4c",
								"type": "text/javascript",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 200\"] = responseCode.code === 200;"
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							}
						],
						"body": {
							"mode": "file",
							"file": {}
						},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				},
				{
					"name": "user1 get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "a72f8b1c-898f-4cda-97d9-eb1a11636b72",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 study\"] = jsonObject.length === 1;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "ae9ce291-c4c8-45b5-87f3-d8dda0da528f",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies/?inbox",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								""
							],
							"query": [
								{
									"key": "inbox",
									"value": null
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Send study to an album from inbox user 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "910b5a1b-c53f-452d-b508-6170179cf2a3",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_sharing}}?inbox=",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"albums",
								"{{album_id_sharing}}"
							],
							"query": [
								{
									"key": "inbox",
									"value": ""
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 study\"] = jsonObject.length === 1;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies/?albums={{album_id_sharing}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								""
							],
							"query": [
								{
									"key": "albums",
									"value": "{{album_id_sharing}}"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "user2 get studies list-Empty",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "ecfbfd8c-6ada-4524-bfcc-b227972a4a14",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;",
									"",
									"tests[\"Empty response\"] = responseBody == \"\"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "33ba6afb-79c2-48b1-bead-9aef63edcdb4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies/?inbox",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								""
							],
							"query": [
								{
									"key": "inbox",
									"value": null
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Send study to user 2 from inbox user 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "910b5a1b-c53f-452d-b508-6170179cf2a3",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/users/{{user2}}?inbox=true",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"users",
								"{{user2}}"
							],
							"query": [
								{
									"key": "inbox",
									"value": "true"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "user2 get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "8f90964a-56ec-4149-a3a1-09b3d351d4e2",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 study\"] = jsonObject.length === 1;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies/",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete studies from album",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "838738eb-cf68-4af4-80d3-b96e9d1d8928",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_sharing}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"albums",
								"{{album_id_sharing}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create an album without add and delete permission-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "866e67b5-63ea-421c-9fe8-24189a2f9855",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"album_id_sharing2\", jsonObject.album_id);"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "sendSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "addSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "deleteSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "name",
									"value": "a name",
									"type": "text"
								},
								{
									"key": "description",
									"value": "a description",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				},
				{
					"name": "add user 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6caac9ee-c5de-4c2a-a071-187a3ddf168b",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "34930514-9077-47db-bf12-4dbf2c425f62",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/album/{{album_id_sharing2}}/users/{{user2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album",
								"{{album_id_sharing2}}",
								"users",
								"{{user2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Send study to an album from inbox without add permission",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "afb2e99f-0222-41ba-91e3-24c25a5cbe1d",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_sharing2}}?inbox=",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"albums",
								"{{album_id_sharing2}}"
							],
							"query": [
								{
									"key": "inbox",
									"value": ""
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Send study to an album from inbox by an admin-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "910b5a1b-c53f-452d-b508-6170179cf2a3",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;"
								]
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_sharing2}}?inbox=",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"albums",
								"{{album_id_sharing2}}"
							],
							"query": [
								{
									"key": "inbox",
									"value": ""
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete studies from album without delete permission",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_sharing2}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"albums",
								"{{album_id_sharing2}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete studies from inbox (user 2)",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "da5aed77-382c-424e-92a7-cb21be055b26",
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user2}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}"
							]
						}
					},
					"response": []
				}
			]
		}
	]
}
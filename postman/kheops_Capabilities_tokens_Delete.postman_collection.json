{
	"info": {
		"_postman_id": "22f870c7-31c6-4969-8c4b-76804787edab",
		"name": "kheops_Capabilities_tokens_Delete",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Initialisation",
			"item": [
				{
					"name": "create user1-create",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "83822f04-38b7-400f-bc35-7a638a6d5e26",
								"type": "text/javascript",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"access_token_user1\", jsonObject.access_token);"
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "794cf6b5-3c58-4f4f-b14b-e1a551b617dc",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
									"type": "text"
								},
								{
									"key": "assertion",
									"value": "eyJhbGciOiJIUzI1NiIsImtpZCI6IjEifQ.eyJhdWQiOiJhdXRob3JpemF0aW9uLmtoZW9wcy5vbmxpbmUiLCJzdWIiOiIxMjM0NTY3ODkiLCJlbWFpbCI6InRvdG9AZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImV4cCI6MjUyMjk0MzU3MiwiaXNzIjoiYXV0aG9yaXphdGlvbi5raGVvcHMub25saW5lIiwiaWF0IjoxNTIyOTM5OTcyfQ.916Xn1BnUwdhOvuWErWWOh_AkYXeS36mVRTP06VWsVA",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/token",
							"host": [
								"{{URL}}"
							],
							"path": [
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "create user2-create",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "3366818a-20f6-439d-bb8c-8a7d4fc40b9d",
								"type": "text/javascript",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"access_token_user2\", jsonObject.access_token);",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "794cf6b5-3c58-4f4f-b14b-e1a551b617dc",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
									"type": "text"
								},
								{
									"key": "assertion",
									"value": "eyJhbGciOiJIUzI1NiIsImtpZCI6IjEifQ.eyJhdWQiOiJhdXRob3JpemF0aW9uLmtoZW9wcy5vbmxpbmUiLCJzdWIiOiI5ODc2NTQzMjEiLCJlbWFpbCI6InRpdGlAZ21haWwuY29tIiwiZW1haWxfdmVyaWZpZWQiOnRydWUsImV4cCI6MjUyMjk0MzU3MiwiaXNzIjoiYXV0aG9yaXphdGlvbi5raGVvcHMub25saW5lIiwiaWF0IjoxNTIyOTM5OTcyfQ.Csj6WCBDwZlXeUOE0nX6SmReZhGZayw2yZFKWzlwysE",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/token",
							"host": [
								"{{URL}}"
							],
							"path": [
								"token"
							]
						}
					},
					"response": []
				},
				{
					"name": "create user3-create",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "6ea2d7bb-b849-4327-b8fe-c5003480b2d6",
								"type": "text/javascript",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"access_token_user3\", jsonObject.access_token);",
									""
								]
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "794cf6b5-3c58-4f4f-b14b-e1a551b617dc",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "grant_type",
									"value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
									"type": "text"
								},
								{
									"key": "assertion",
									"value": "eyJhbGciOiJIUzI1NiIsImtpZCI6IjEifQ.eyJhdWQiOiJhdXRob3JpemF0aW9uLmtoZW9wcy5vbmxpbmUiLCJzdWIiOiI5OTg4Nzc2NjU1IiwiZW1haWwiOiJ0YXRhQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJleHAiOjI1MjI5NDM1NzIsImlzcyI6ImF1dGhvcml6YXRpb24ua2hlb3BzLm9ubGluZSIsImlhdCI6MTUyMjkzOTk3Mn0.i8D9zxg1aQBjIMCBS921v7PBQ6Me2trR2a5TtVk0_Xs",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/token",
							"host": [
								"{{URL}}"
							],
							"path": [
								"token"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "eedf2349-2443-497c-bed4-070bbdceb9a9",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "6ca5f33e-5df8-441f-8fe1-d3ad6c95e633",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Album",
			"item": [
				{
					"name": "Create an album(1)-OK",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "c09cfdaa-aa57-499c-a23c-8e26fa376e1e",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"pm.environment.set(\"album_id_1\", jsonObject.album_id);",
									"",
									"tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_1\");",
									"",
									"tests[\"name\"] = jsonObject.name == \"name 1\"",
									"",
									"tests[\"description\"] = jsonObject.description == \"description 1\"",
									"",
									"tests[\"is_favorite\"] = jsonObject.is_favorite == false",
									"",
									"tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
									"",
									"tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
									"",
									"tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
									"",
									"tests[\"add_user\"] = jsonObject.add_user == false",
									"",
									"tests[\"download_series\"] = jsonObject.download_series == true",
									"",
									"tests[\"send_series\"] = jsonObject.send_series == false",
									"",
									"tests[\"delete_series\"] = jsonObject.delete_series == false",
									"",
									"tests[\"add_series\"] = jsonObject.add_series == true",
									"",
									"tests[\"write_comments\"] = jsonObject.write_comments == true",
									"",
									"tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
									"",
									"tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "sendSeries",
									"value": "false",
									"type": "text"
								},
								{
									"key": "name",
									"value": "name 1",
									"type": "text"
								},
								{
									"key": "description",
									"value": "description 1",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/album",
							"host": [
								"{{URL}}"
							],
							"path": [
								"album"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "bf04770b-6343-401e-b74e-a27e83b50470",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "e9125da5-7530-4937-8728-1e66c8d4a698",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Generate capabilities tokens",
			"item": [
				{
					"name": "Create a capability token write",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "31a1a60d-9293-4452-8e38-5f54a7c164db",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Description is correct\"] = jsonObject.description === pm.environment.get(\"title\");",
									"tests[\"Revoked is false\"] = jsonObject.revoked === false;",
									"",
									"pm.environment.set(\"secret_capability_token_write\", jsonObject.secret);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "c99d50c0-13a7-4b5a-a1f7-2389cbc16232",
								"exec": [
									"pm.environment.set(\"description\", \"some description\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "title",
									"value": "{{description}}",
									"type": "text"
								},
								{
									"key": "scope_type",
									"value": "album",
									"type": "text"
								},
								{
									"key": "album",
									"value": "{{album_id_1}}",
									"type": "text"
								},
								{
									"key": "read_permission",
									"value": "false",
									"type": "text"
								},
								{
									"key": "write_permission",
									"value": "true",
									"type": "text"
								},
								{
									"key": "appropriate_permission",
									"value": "false",
									"type": "text"
								},
								{
									"key": "download_permission",
									"value": "false",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/capabilities",
							"host": [
								"{{URL}}"
							],
							"path": [
								"capabilities"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a capability token read",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "31a1a60d-9293-4452-8e38-5f54a7c164db",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Description is correct\"] = jsonObject.description === pm.environment.get(\"title\");",
									"tests[\"Revoked is false\"] = jsonObject.revoked === false;",
									"",
									"pm.environment.set(\"secret_capability_token_read\", jsonObject.secret);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "c99d50c0-13a7-4b5a-a1f7-2389cbc16232",
								"exec": [
									"pm.environment.set(\"description\", \"some description\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "title",
									"value": "{{description}}",
									"type": "text"
								},
								{
									"key": "scope_type",
									"value": "album",
									"type": "text"
								},
								{
									"key": "album",
									"value": "{{album_id_1}}",
									"type": "text"
								},
								{
									"key": "read_permission",
									"value": "true",
									"type": "text"
								},
								{
									"key": "write_permission",
									"value": "false",
									"type": "text"
								},
								{
									"key": "appropriate_permission",
									"value": "false",
									"type": "text"
								},
								{
									"key": "download_permission",
									"value": "false",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/capabilities",
							"host": [
								"{{URL}}"
							],
							"path": [
								"capabilities"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a capability token read write",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "31a1a60d-9293-4452-8e38-5f54a7c164db",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Description is correct\"] = jsonObject.description === pm.environment.get(\"title\");",
									"tests[\"Revoked is false\"] = jsonObject.revoked === false;",
									"",
									"pm.environment.set(\"secret_capability_token_read_write\", jsonObject.secret);"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "c99d50c0-13a7-4b5a-a1f7-2389cbc16232",
								"exec": [
									"pm.environment.set(\"description\", \"some description\");"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{access_token_user1}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/x-www-form-urlencoded"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "title",
									"value": "{{description}}",
									"type": "text"
								},
								{
									"key": "scope_type",
									"value": "album",
									"type": "text"
								},
								{
									"key": "album",
									"value": "{{album_id_1}}",
									"type": "text"
								},
								{
									"key": "read_permission",
									"value": "true",
									"type": "text"
								},
								{
									"key": "write_permission",
									"value": "true",
									"type": "text"
								},
								{
									"key": "appropriate_permission",
									"value": "false",
									"type": "text"
								},
								{
									"key": "download_permission",
									"value": "false",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "{{URL}}/capabilities",
							"host": [
								"{{URL}}"
							],
							"path": [
								"capabilities"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "a89f3378-fc2f-4cac-b4f7-96989cfd551c",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "6d148eb2-3c7c-4e2b-9d3f-438426f84df5",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "STOW RS",
			"item": [
				{
					"name": "STOW RS inside album capability token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7524252c-94ee-4cd1-8780-15785472765a",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 200\"] = responseCode.code === 200;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_write}}"
							}
						],
						"body": {
							"mode": "file",
							"file": {}
						},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 study\"] = jsonObject.length === 1;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "a43051f9-5172-41f2-86b4-bd1301536045",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "ba58fb6a-5f4d-4a7b-bc3e-4a28e06412bf",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Delete /study/.../series/...",
			"item": [
				{
					"name": "Delete studies from album-write",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_write}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/series/{{series_UID}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"series",
								"{{series_UID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete studies from album-read",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/series/{{series_UID}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"series",
								"{{series_UID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 study\"] = jsonObject.length === 1;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete studies from album-read-write",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read_write}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/series/{{series_UID}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"series",
								"{{series_UID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "STOW RS",
			"item": [
				{
					"name": "STOW RS inside album capability token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7524252c-94ee-4cd1-8780-15785472765a",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 200\"] = responseCode.code === 200;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_write}}"
							}
						],
						"body": {
							"mode": "file",
							"file": {}
						},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 study\"] = jsonObject.length === 1;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "a43051f9-5172-41f2-86b4-bd1301536045",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "ba58fb6a-5f4d-4a7b-bc3e-4a28e06412bf",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Delete /study/.../series/.../album/...",
			"item": [
				{
					"name": "Delete studies from album-write",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_write}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/series/{{series_UID}}/albums/{{album_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"series",
								"{{series_UID}}",
								"albums",
								"{{album_id_1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete studies from album-read",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/series/{{series_UID}}/albums/{{album_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"series",
								"{{series_UID}}",
								"albums",
								"{{album_id_1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 study\"] = jsonObject.length === 1;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete studies from album-read-write",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read_write}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/series/{{series_UID}}/albums/{{album_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"series",
								"{{series_UID}}",
								"albums",
								"{{album_id_1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "738f0312-757c-4c51-a9fb-b71ebbe25942",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "b8fcacf5-f15b-4baa-bf44-d06d2e4f7511",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "STOW RS",
			"item": [
				{
					"name": "STOW RS inside album capability token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7524252c-94ee-4cd1-8780-15785472765a",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 200\"] = responseCode.code === 200;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_write}}"
							}
						],
						"body": {
							"mode": "file",
							"file": {}
						},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 study\"] = jsonObject.length === 1;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "a43051f9-5172-41f2-86b4-bd1301536045",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "ba58fb6a-5f4d-4a7b-bc3e-4a28e06412bf",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Delete /study/...",
			"item": [
				{
					"name": "Delete studies from album-write",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_write}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete studies from album-read",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 study\"] = jsonObject.length === 1;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete studies from album-read-write",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read_write}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "a8fe6514-99f7-4e22-ace6-8a34898140fa",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "1fb9ff48-1872-45e9-9cef-cb19c4338aa9",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "STOW RS",
			"item": [
				{
					"name": "STOW RS inside album capability token",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "7524252c-94ee-4cd1-8780-15785472765a",
								"exec": [
									"// ensure healthy response code",
									"tests[\"Status code is 200\"] = responseCode.code === 200;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_write}}"
							}
						],
						"body": {
							"mode": "file",
							"file": {}
						},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 study\"] = jsonObject.length === 1;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "a43051f9-5172-41f2-86b4-bd1301536045",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "ba58fb6a-5f4d-4a7b-bc3e-4a28e06412bf",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		},
		{
			"name": "Delete /study/.../album/...",
			"item": [
				{
					"name": "Delete studies from album-write",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_write}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"albums",
								"{{album_id_1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete studies from album-read",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"exec": [
									"tests[\"Status code is 403\"] = responseCode.code === 403;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"albums",
								"{{album_id_1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"",
									"tests[\"Not empty response []\"] = responseBody != \"[]\"",
									"",
									"var jsonObject = JSON.parse(responseBody);",
									"",
									"tests[\"Return 1 study\"] = jsonObject.length === 1;",
									"",
									"tests[\"[INFO] Response: \" + responseBody] = true;"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete studies from album-read-write",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "38ad1edc-20bd-4940-89fa-953608b93017",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read_write}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"url": {
							"raw": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_1}}",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies",
								"{{study_UID}}",
								"albums",
								"{{album_id_1}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "album get studies list",
					"event": [
						{
							"listen": "test",
							"script": {
								"id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{secret_capability_token_read}}"
							}
						],
						"body": {},
						"url": {
							"raw": "{{URL}}/studies",
							"host": [
								"{{URL}}"
							],
							"path": [
								"studies"
							]
						}
					},
					"response": []
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "738f0312-757c-4c51-a9fb-b71ebbe25942",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "b8fcacf5-f15b-4baa-bf44-d06d2e4f7511",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			]
		}
	]
}
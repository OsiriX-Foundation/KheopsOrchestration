{
  "info": {
    "_postman_id": "c3988f3a-febd-4b9f-b47c-515f6025cc11",
    "name": "kheops-Album",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "name": "album",
      "item": [
        {
          "name": "get album list-Empty user 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "543e2bf6-98c6-433b-9c2e-f19f8a3c9ecc",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Empty response []\"] = responseBody == \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 0 album\"] = jsonObject.length === 0;",
                  "",
                  "tests[\"X-Total-Count = 0\"] = postman.getResponseHeader(\"X-Total-Count\") == 0;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0869973e-821b-4f9c-bf6f-83e7acab218e",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "get album list-Empty user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "543e2bf6-98c6-433b-9c2e-f19f8a3c9ecc",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Empty response []\"] = responseBody == \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 0 album\"] = jsonObject.length === 0;",
                  "",
                  "tests[\"X-Total-Count = 0\"] = postman.getResponseHeader(\"X-Total-Count\") == 0;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a2b7920f-ac66-4e76-910c-30d97e122d1d",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "Create an album(1)-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c09cfdaa-aa57-499c-a23c-8e26fa376e1e",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_id_1\", jsonObject.album_id);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_1\");",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"name 1\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"description 1\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == false",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == true",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == false",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == true",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == true",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9a57a971-9dd7-4eb6-8030-705eb4cda1f9",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "sendSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "name",
                  "value": "name 1",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "description 1",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "get album list-1 album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "efde00cf-ddfb-4347-a721-351f0f476f4f",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 album\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 1\"] = postman.getResponseHeader(\"X-Total-Count\") == 1;",
                  "",
                  "tests[\"name\"] = jsonObject[0].name == \"name 1\"",
                  "",
                  "tests[\"description\"] = jsonObject[0].description == \"description 1\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject[0].is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject[0].number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject[0].number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject[0].number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject[0].add_user == false",
                  "",
                  "tests[\"download_series\"] = jsonObject[0].download_series == true",
                  "",
                  "tests[\"send_series\"] = jsonObject[0].send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject[0].delete_series == false",
                  "",
                  "tests[\"add_series\"] = jsonObject[0].add_series == true",
                  "",
                  "tests[\"write_comments\"] = jsonObject[0].write_comments == true",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject[0].notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject[0].notification_new_comment == true"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ff294ea7-3486-49aa-a6dc-7ffa6227865b",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "Create an album(2)-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "18907c18-71fe-49e7-9bb9-78e8070e402a",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_id_2\", jsonObject.album_id);",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"name 2\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"description 2\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == true",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == false",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == false",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == false",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == false",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9622a218-2116-4991-9b69-e3643e174be3",
                "exec": [
                  "//wait before creation for the sort filter",
                  "",
                  "function wait(ms)",
                  "{",
                  "\tvar d = new Date();",
                  "\tvar d2 = null;",
                  "\tdo { d2 = new Date(); }",
                  "\twhile(d2-d < ms);",
                  "}",
                  "",
                  "wait(3000)"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "65f3bd25-cad9-48ba-ae87-b1645d387f06",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "sendSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "addUser",
                  "value": "true",
                  "type": "text"
                },
                {
                  "key": "downloadSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "deleteSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "addSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "writeComments",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "name",
                  "value": "name 2",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "description 2",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "Create an album(3)-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "b14e9bba-8b2b-4eb5-8a3e-19e4bb6036e9",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_id_3\", jsonObject.album_id);",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"name 3\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"description 3\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == false",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == true",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == true",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == false",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == true",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == true",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "4e40b534-ff02-4471-a1d6-6b0fe48c59c3",
                "exec": [
                  "//wait before creation for the sort filter",
                  "",
                  "function wait(ms)",
                  "{",
                  "\tvar d = new Date();",
                  "\tvar d2 = null;",
                  "\tdo { d2 = new Date(); }",
                  "\twhile(d2-d < ms);",
                  "}",
                  "",
                  "wait(3000)"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ebb080fd-af48-4c6d-9353-12bb13ca25af",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "name",
                  "value": "name 3",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "description 3",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "get album-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "20c49142-79b4-448c-9d8b-1633832040e2",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_3\");",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"name 3\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"description 3\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == false",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == true",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == true",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == false",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == true",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == true",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "83290291-6d6d-4092-879b-66e70a857251",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_id_3}}"
          },
          "response": []
        },
        {
          "name": "get album list-3 albums",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "62d44f57-a4bb-4ea6-a6cc-770470ff263a",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 album\"] = jsonObject.length === 3;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8b32c7a6-c71a-4179-aaca-59752daa56a1",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "get album (inbox)-Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "41ddf687-9de9-452d-aea2-346c9f5da091",
                "exec": [
                  "tests[\"Status code is 404\"] = responseCode.code === 404;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "41ca6b55-963a-44fa-8909-ded82cc8ff0f",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/1"
          },
          "response": []
        },
        {
          "name": "get album non existing-Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "41ddf687-9de9-452d-aea2-346c9f5da091",
                "exec": [
                  "tests[\"Status code is 404\"] = responseCode.code === 404;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "1751eae0-db55-4b4c-9214-5c6292d61353",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/999"
          },
          "response": []
        },
        {
          "name": "edit album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3bf4a4c9-3d98-4ad5-8bf0-82eae7f4e148",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_3\");",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"rename\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"redescription\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == true",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == false",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == true",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == false",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == false",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == false",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "091c28af-6ac8-4bf3-abfc-fa7cd875c182",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "name",
                  "value": "rename",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "redescription",
                  "type": "text"
                },
                {
                  "key": "addUser",
                  "value": "true",
                  "type": "text"
                },
                {
                  "key": "downloadSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "sendSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "deleteSeries",
                  "value": "true",
                  "type": "text"
                },
                {
                  "key": "addSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "writeComments",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "notificationNewSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "notificationNewComment",
                  "value": "false",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_id_3}}"
          },
          "response": []
        },
        {
          "name": "re-edit album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "57711bc3-5dd3-40f1-81ac-fb2455340cb4",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_3\");",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"name 3\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"description 3\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == true",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == false",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == true",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == false",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == false",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a53889d1-30cb-45f9-b501-4f25dd3e900e",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "name",
                  "value": "name 3",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "description 3",
                  "type": "text"
                },
                {
                  "key": "notificationNewSeries",
                  "value": "true",
                  "type": "text"
                },
                {
                  "key": "notificationNewComment",
                  "value": "true",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_id_3}}"
          },
          "response": []
        },
        {
          "name": "add user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6caac9ee-c5de-4c2a-a071-187a3ddf168b",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "7a4806b6-066b-4682-8646-113017142077",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_id_3}}/users/{{user2_id}}"
          },
          "response": []
        },
        {
          "name": "edit album-Forbidden",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2132952d-f2f2-4dde-bda6-31380284bdd1",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "efc136dd-0962-46ab-9943-ab888d5bc255",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "name",
                  "value": "rename Forbidden",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "redescription Forbidden",
                  "type": "text"
                },
                {
                  "key": "addUser",
                  "value": "true",
                  "type": "text"
                },
                {
                  "key": "downloadSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "sendSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "deleteSeries",
                  "value": "true",
                  "type": "text"
                },
                {
                  "key": "addSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "writeComments",
                  "value": "false",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_id_3}}"
          },
          "response": []
        },
        {
          "name": "edit album notification and more-Forbidden",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "07108cd4-bded-49fb-abf0-db8a148e3547",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5bff0823-c81b-43cc-a1af-8bf904aadbee",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "name",
                  "value": "rename no effect",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "redescription no effect",
                  "type": "text"
                },
                {
                  "key": "addUser",
                  "value": "true",
                  "type": "text"
                },
                {
                  "key": "downloadSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "sendSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "deleteSeries",
                  "value": "true",
                  "type": "text"
                },
                {
                  "key": "addSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "writeComments",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "notificationNewSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "notificationNewComment",
                  "value": "false",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_id_3}}"
          },
          "response": []
        },
        {
          "name": "edit album notification-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f21ce5cc-4b72-430f-a4e7-f33e56b06d3a",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_3\");",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"name 3\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"description 3\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 2",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == true",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == false",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == true",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == false",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == false",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == false",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b4480b84-65d9-40fb-92ed-91060d1780ff",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "notificationNewSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "notificationNewComment",
                  "value": "false",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_id_3}}"
          },
          "response": []
        },
        {
          "name": "remove user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "43ce39fd-02e9-4fd1-9f27-f20b3cacd05d",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4c169c77-9a64-4d74-9b59-5d3a78ac0fd2",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_id_3}}/users/{{user2_mail}}"
          },
          "response": []
        },
        {
          "name": "get album list filter by {name}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "89980121-d7db-4cec-9cc0-8c6a1a7bef25",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 album\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"album_id\"] = jsonObject[0].album_id == pm.environment.get(\"album_id_1\");",
                  "",
                  "tests[\"name\"] = jsonObject[0].name == \"name 1\"",
                  "",
                  "tests[\"X-Total-Count = 1\"] = postman.getResponseHeader(\"X-Total-Count\") == 1;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3e9f72c2-6bb5-4706-8e7a-5ca3cab74691",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?name=name 1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "name 1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list filter by {name}*",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "44e781a2-1d03-4aee-a221-2093d4702083",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 album\"] = jsonObject.length === 3;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f9d270e4-d39e-47cb-8d46-ad0c4c44e50e",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?name=name*",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "name*"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list filter by *{name}",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "414d3a21-7ca8-4fe3-b8c7-eaa96b52ec95",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 album\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"album_id\"] = jsonObject[0].album_id == pm.environment.get(\"album_id_1\");",
                  "",
                  "tests[\"name\"] = jsonObject[0].name == \"name 1\"",
                  "",
                  "tests[\"X-Total-Count = 1\"] = postman.getResponseHeader(\"X-Total-Count\") == 1;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "413f6f65-4b14-4b54-aef9-c63b4596ee5d",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?name=*me 1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "*me 1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list filter by *{name}*",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "86d01e12-b9c4-4a16-850f-3307e96cb77c",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 album\"] = jsonObject.length === 3;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "1636c99c-3079-41d4-9635-e930cc37e478",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?name=*me*",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "*me*"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list filter by {fuzzymatching}=true",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c41f7adb-b4b9-418c-943e-85d1e7b348cf",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 album\"] = jsonObject.length === 3;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "26325d69-435e-4614-ae91-6b672468380d",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?name=nam&fuzzymatching=true",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "name",
                  "value": "nam"
                },
                {
                  "key": "fuzzymatching",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list filter by {favorite}=true",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "87d79b5a-3d4d-4863-baf4-86ff91ebe597",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Empty response []\"] = responseBody == \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 0 album\"] = jsonObject.length === 0;",
                  "",
                  "tests[\"X-Total-Count = 0\"] = postman.getResponseHeader(\"X-Total-Count\") == 0;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a46736b9-4f81-466e-bdd5-d09b4a3ee226",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?favorite=true",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "favorite",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list filter by {favorite}=false",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a1f1f485-1e19-4d08-8521-7a1ae3af03da",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 album\"] = jsonObject.length === 3;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4f834fad-fdfe-4917-bb58-aa6778ade95c",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?favorite=false",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "favorite",
                  "value": "false"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list filter by limit offset",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "16bf7745-f4e6-4e2c-84d3-a921ee55b73b",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 album\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"name\"] = jsonObject[0].name == \"name 2\"",
                  "",
                  "tests[\"description\"] = jsonObject[0].description == \"description 2\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject[0].is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject[0].number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject[0].number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject[0].number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject[0].add_user == true",
                  "",
                  "tests[\"download_series\"] = jsonObject[0].download_series == false",
                  "",
                  "tests[\"send_series\"] = jsonObject[0].send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject[0].delete_series == false",
                  "",
                  "tests[\"add_series\"] = jsonObject[0].add_series == false",
                  "",
                  "tests[\"write_comments\"] = jsonObject[0].write_comments == false",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject[0].notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject[0].notification_new_comment == true"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "7470250a-08b0-4d3a-bad2-09dc4a8cf7e1",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?limit=1&offset=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "1"
                },
                {
                  "key": "offset",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list filter by limit offset-Bad Params",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cbfcd49b-9eff-472e-b56c-57fa17fcebe3",
                "exec": [
                  "tests[\"Status code is 400\"] = responseCode.code === 400;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "093b7009-a9ff-4517-9d00-93a48ef44ec6",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?limit=aaa",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "aaa"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list filter by limit offset-Bad Params",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "cbfcd49b-9eff-472e-b56c-57fa17fcebe3",
                "exec": [
                  "tests[\"Status code is 400\"] = responseCode.code === 400;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "c649a4b7-92cf-4c9c-a374-5c128f2d5bd5",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?limit=-3",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "-3"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list sort by -name",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "51ba1915-88d2-46d4-a960-f716d5d90821",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 albums\"] = jsonObject.length === 3;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"name_0\"] = jsonObject[0].name == \"name 3\"",
                  "",
                  "tests[\"name_1\"] = jsonObject[1].name == \"name 2\"",
                  "",
                  "tests[\"name_2\"] = jsonObject[2].name == \"name 1\""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "77937800-fb5a-4bb6-a77e-3b4be8ac4e76",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?sort=-name",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "sort",
                  "value": "-name"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list sort by name",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d0abaf30-2436-4899-abc0-42353f30ce3c",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 albums\"] = jsonObject.length === 3;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"name_0\"] = jsonObject[0].name == \"name 1\"",
                  "",
                  "tests[\"name_1\"] = jsonObject[1].name == \"name 2\"",
                  "",
                  "tests[\"name_2\"] = jsonObject[2].name == \"name 3\""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "dd665f81-274a-480c-b1f9-a3b920b57ee3",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?sort=name",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "sort",
                  "value": "name"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list sort by created_time",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d0abaf30-2436-4899-abc0-42353f30ce3c",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 albums\"] = jsonObject.length === 3;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"name_0\"] = jsonObject[0].name == \"name 1\"",
                  "",
                  "tests[\"name_1\"] = jsonObject[1].name == \"name 2\"",
                  "",
                  "tests[\"name_2\"] = jsonObject[2].name == \"name 3\""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "be96865e-7086-41e6-9e06-f7fea9b48c3f",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?sort=created_time",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "sort",
                  "value": "created_time"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list sort by -created_time",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0404f8a3-1be0-4791-82c5-85b980a3a83b",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 albums\"] = jsonObject.length === 3;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"name_0\"] = jsonObject[0].name == \"name 3\"",
                  "",
                  "tests[\"name_1\"] = jsonObject[1].name == \"name 2\"",
                  "",
                  "tests[\"name_2\"] = jsonObject[2].name == \"name 1\""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a245a82d-7d50-40fc-8cd3-9c037aa626f3",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?sort=-created_time",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "sort",
                  "value": "-created_time"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "delete album (inbox)-Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a5c0e200-6fca-449d-9f8b-0f818553621d",
                "exec": [
                  "tests[\"Status code is 404\"] = responseCode.code === 404;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ba1abe0e-41a8-43ad-87cd-804c5a3c8b63",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/1"
          },
          "response": []
        },
        {
          "name": "delete album non existing-Not Found",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c63fb886-ca4a-461b-943f-e5adfab39a62",
                "exec": [
                  "tests[\"Status code is 404\"] = responseCode.code === 404;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b340da07-bb95-4c1e-9839-0d13d26b91b0",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/999"
          },
          "response": []
        },
        {
          "name": "delete album-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "11bfe9a2-844b-4bff-99ed-5a9bff8e4c77",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "96d6c0e7-71a0-47e3-bc6a-9935def5766f",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_id_1}}"
          },
          "response": []
        }
      ],
      "_postman_id": "286de216-a569-41b6-9d43-61ac6a0ddb2b"
    },
    {
      "name": "favorite",
      "item": [
        {
          "name": "Create an album-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f18fac9a-2516-4078-a31c-943917641cf5",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_favorite_id_1\", jsonObject.album_id);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_favorite_id_1\");",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"name 1\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"description 1\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == false",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == true",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == false",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == true",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == true",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "416e24d1-45d8-486c-ae6c-225ca30995c2",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "sendSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "name",
                  "value": "name 1",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "description 1",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "add user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6caac9ee-c5de-4c2a-a071-187a3ddf168b",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3807ab20-a791-40c6-8f6c-bba4270d8a65",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_favorite_id_1}}/users/{{user2_id}}"
          },
          "response": []
        },
        {
          "name": "add to favorites user 1-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "122408ad-933b-431d-ba75-89c12faa1e82",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "88550c4f-5df7-4aa0-bf94-83c95191c0d6",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_favorite_id_1}}/favorites"
          },
          "response": []
        },
        {
          "name": "get album-OK not favorite for user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "de8cd6bc-aa5c-4be4-95e9-01f7656a891a",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_favorite_id_1\")",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f4c223af-5771-411b-ad49-5c0a700c604b",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_favorite_id_1}}"
          },
          "response": []
        },
        {
          "name": "get album-OK favorite for user 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8b4e8535-0ef3-4824-b1b5-be8b78552cf2",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_favorite_id_1\");",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == true",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b25a55d3-161c-41ca-bdba-91c54dece8c3",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_favorite_id_1}}"
          },
          "response": []
        },
        {
          "name": "get album list filter by {favorite}=true",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fe810515-a16b-4263-9850-0a5490a54776",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 album\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"album_id\"] = jsonObject[0].album_id == pm.environment.get(\"album_favorite_id_1\");",
                  "",
                  "tests[\"is_favorite\"] = jsonObject[0].is_favorite == true",
                  "",
                  "tests[\"X-Total-Count = 1\"] = postman.getResponseHeader(\"X-Total-Count\") == 1;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4e0df6ea-7354-4899-a51f-6d7c89386b5b",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?favorite=true",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "favorite",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "remove favorites user 1-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f0d1cb22-78d9-4734-a4a3-4895760285af",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a695c4ac-10c4-4b3a-a29b-ab2cc89d2d79",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_favorite_id_1}}/favorites"
          },
          "response": []
        },
        {
          "name": "get album-OK not favorite for user 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "de8cd6bc-aa5c-4be4-95e9-01f7656a891a",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_favorite_id_1\")",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "fe3bb1d0-4c52-4a2f-adee-45c80fe476c3",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_favorite_id_1}}"
          },
          "response": []
        },
        {
          "name": "add to favorites-bad album id",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6a2030e1-765e-4126-b62a-3bcd69078e55",
                "exec": [
                  "tests[\"Status code is 404\"] = responseCode.code === 404;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f1df823b-73d0-4d46-894d-e3e884ccb55b",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/1/favorites"
          },
          "response": []
        },
        {
          "name": "user 2 quit album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "42c61bda-274a-498c-bc85-243b637c6fef",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f7c01227-f0b4-4231-bc82-268f7e22a1ff",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_favorite_id_1}}/users/{{user2_mail}}"
          },
          "response": []
        },
        {
          "name": "add to favorites-user not a member",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d08027f1-7a2c-4ce0-849f-80015675caca",
                "exec": [
                  "tests[\"Status code is 404\"] = responseCode.code === 404;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "454f06e7-bc5b-4e81-b62a-cf5f77b3db17",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_favorite_id_1}}/favorites"
          },
          "response": []
        },
        {
          "name": "remove favorites-bad album id",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d45f19ea-377b-4c93-9ddd-be14c14a6830",
                "exec": [
                  "tests[\"Status code is 404\"] = responseCode.code === 404;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "24744140-e101-4abb-b1a5-8e5698eebacb",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/99/favorites"
          },
          "response": []
        },
        {
          "name": "remove favorites-user not a member",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "31edb652-4e6b-4787-9159-1ca407768685",
                "exec": [
                  "tests[\"Status code is 404\"] = responseCode.code === 404;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "db2646b5-f6b3-4aba-875f-ae120b6a9c7e",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_favorite_id_1}}/favorites"
          },
          "response": []
        }
      ],
      "_postman_id": "8dc5ac80-0593-499c-b05d-6b41798115b7"
    },
    {
      "name": "user",
      "item": [
        {
          "name": "Create an album-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "105209f3-5569-4454-989a-77f2de5d06e3",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_user_id_1\", jsonObject.album_id);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_user_id_1\");",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"name 1\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"description 1\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == false",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == true",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == false",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == true",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == true",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "eda5efb8-05e1-42cd-b13f-9dc659eac7ae",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "sendSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "name",
                  "value": "name 1",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "description 1",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "get users album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "af79aff8-0cf1-48cb-be26-9fcaebc2f2a6",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 user\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"user_name\"] = jsonObject[0].email == pm.globals.get(\"user1_mail\"); ",
                  "",
                  "tests[\"is_admin\"] = jsonObject[0].is_admin == true"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "a1af0b57-9014-4b23-b67d-8fe692eb423d",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_user_id_1}}/users"
          },
          "response": []
        },
        {
          "name": "Verifie if user 2 exist",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "af79aff8-0cf1-48cb-be26-9fcaebc2f2a6",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"email\"] = jsonObject.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"sub\"] = jsonObject.sub == pm.variables.get(\"user2_id\");",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "88aa5d2b-e6b1-4b8b-bb1c-2e904d17dde8",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/users?reference={{user2_id}}",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "users"
              ],
              "query": [
                {
                  "key": "reference",
                  "value": "{{user2_id}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Verifie if user 2 exist by email",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "af79aff8-0cf1-48cb-be26-9fcaebc2f2a6",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"email\"] = jsonObject.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"sub\"] = jsonObject.sub == pm.variables.get(\"user2_id\");",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "87ff2c98-5334-4c93-9c22-a50b64f6520a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/users?reference={{user2_mail}}",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "users"
              ],
              "query": [
                {
                  "key": "reference",
                  "value": "{{user2_mail}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Verifie if user 4 exist-No Content",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "af79aff8-0cf1-48cb-be26-9fcaebc2f2a6",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0889b7fa-7a86-401b-b746-42acf7774db5",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/users?reference=1111111",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "users"
              ],
              "query": [
                {
                  "key": "reference",
                  "value": "1111111"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Verifie if user 2 can access album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "af79aff8-0cf1-48cb-be26-9fcaebc2f2a6",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"email\"] = jsonObject.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"sub\"] = jsonObject.sub == pm.variables.get(\"user2_id\");",
                  "",
                  "tests[\"album_access\"] = jsonObject.album_access == false;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4558b3a3-b4aa-4e08-adaf-5f0e4b215345",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/users?reference={{user2_id}}&album={{album_user_id_1}}",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "users"
              ],
              "query": [
                {
                  "key": "reference",
                  "value": "{{user2_id}}"
                },
                {
                  "key": "album",
                  "value": "{{album_user_id_1}}",
                  "type": "text"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "add user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6caac9ee-c5de-4c2a-a071-187a3ddf168b",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "50784059-89b2-492d-b71a-2afc660a7485",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_id}}"
          },
          "response": []
        },
        {
          "name": "Verifie if user 2 can access album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "af79aff8-0cf1-48cb-be26-9fcaebc2f2a6",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"email\"] = jsonObject.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"sub\"] = jsonObject.sub == pm.variables.get(\"user2_id\");",
                  "",
                  "tests[\"album_access\"] = jsonObject.album_access == true;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "bde73213-0682-4418-bb74-524e11da4a59",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/users?reference={{user2_id}}&album={{album_user_id_1}}",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "users"
              ],
              "query": [
                {
                  "key": "reference",
                  "value": "{{user2_id}}"
                },
                {
                  "key": "album",
                  "value": "{{album_user_id_1}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "28d0c565-ef9e-44df-9557-32886bb8cef9",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_user_id_1\");",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 2"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b8a2268d-61e6-4b71-a032-2b554503e7ce",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_user_id_1}}"
          },
          "response": []
        },
        {
          "name": "get album with usersList-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "28d0c565-ef9e-44df-9557-32886bb8cef9",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_user_id_1\");",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 2",
                  "",
                  "tests[\"users List size = 2\"] = jsonObject.users.length == 2;",
                  "",
                  "tests[\"users List user 1\"] = jsonObject.users[0].email == pm.variables.get(\"user1_mail\"); ",
                  "",
                  "tests[\"users List user 2\"] = jsonObject.users[1].email == pm.variables.get(\"user2_mail\"); "
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b7b7d61d-f636-4af1-bf97-6593437fb669",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_user_id_1}}?includeUsers=true",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_user_id_1}}"
              ],
              "query": [
                {
                  "key": "includeUsers",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get users album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f8a173a0-4429-45da-b816-42f05e667f1e",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 users\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"user_name_0\"] = jsonObject[0].email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"is_admin_0\"] = jsonObject[0].is_admin == true",
                  "",
                  "tests[\"user_name_1\"] = jsonObject[1].email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"is_admin_1\"] = jsonObject[1].is_admin == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "01745200-04d4-461b-bdc9-6dae15da604b",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_user_id_1}}/users"
          },
          "response": []
        },
        {
          "name": "promote user 2 admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a6f486ad-c871-4592-93ca-50e771b50037",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8a18c03f-5919-40c0-b78c-704706fbaec5",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_mail}}/admin"
          },
          "response": []
        },
        {
          "name": "get users album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d7f17c48-ba99-4eea-a130-2acd1f1fa552",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 users\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"user_name_0\"] = jsonObject[0].email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"is_admin_0\"] = jsonObject[0].is_admin == true",
                  "",
                  "tests[\"user_name_1\"] = jsonObject[1].email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"is_admin_1\"] = jsonObject[1].is_admin == true"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "24566b63-af98-482c-b151-7a19874af11d",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_user_id_1}}/users"
          },
          "response": []
        },
        {
          "name": "demote user 2 admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8ce76431-c502-4b35-bb2f-cdecefac9307",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d106a59c-7e0d-4411-8f31-16ffbc6ac2d6",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_id}}/admin"
          },
          "response": []
        },
        {
          "name": "get users album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "355843b1-94f4-40ea-84ae-25161168a6c7",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 users\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"user_name_0\"] = jsonObject[0].email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"is_admin_0\"] = jsonObject[0].is_admin == true",
                  "",
                  "tests[\"user_name_1\"] = jsonObject[1].email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"is_admin_1\"] = jsonObject[1].is_admin == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b1ea461f-2245-406e-9235-831050f34d80",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_user_id_1}}/users"
          },
          "response": []
        },
        {
          "name": "remove user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "43ce39fd-02e9-4fd1-9f27-f20b3cacd05d",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0afbd1de-f190-474a-8e86-92d183339438",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_id}}"
          },
          "response": []
        },
        {
          "name": "get album-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "05fc8eae-50e7-4f37-ad29-c6bbff1dc4fe",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_user_id_1\");",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "44971373-87b8-4446-b2b5-92b8a8aac1bc",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_user_id_1}}"
          },
          "response": []
        },
        {
          "name": "get users album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "25a12489-954b-4946-9281-873708866221",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 user\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"user_name_0\"] = jsonObject[0].email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"is_admin_0\"] = jsonObject[0].is_admin == true",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "81c77dfe-f1ee-4761-97f5-2bb3f8a920b7",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_user_id_1}}/users"
          },
          "response": []
        },
        {
          "name": "add user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2c93a6e4-8f3e-4dbe-8f69-01a3542ca24f",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "33b8dca0-8552-4d65-8218-0bc613be897a",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_mail}}"
          },
          "response": []
        },
        {
          "name": "get users album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e03a4977-98f1-4ce2-ba36-4001a5a7aa9d",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 users\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"user_name_0\"] = jsonObject[0].email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"is_admin_0\"] = jsonObject[0].is_admin == true",
                  "",
                  "tests[\"user_name_1\"] = jsonObject[1].email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"is_admin_1\"] = jsonObject[1].is_admin == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "504063f3-2f0c-4309-bba3-b9c6665fc551",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_user_id_1}}/users"
          },
          "response": []
        },
        {
          "name": "user 2 quit album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "42c61bda-274a-498c-bc85-243b637c6fef",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3f25b0dd-6c16-4d70-a7ac-3f84368e43bf",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_id}}"
          },
          "response": []
        },
        {
          "name": "get users album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f79d5626-5f03-4f85-bef1-2a948f63051d",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 users\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"user_name\"] = jsonObject[0].email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"is_admin\"] = jsonObject[0].is_admin == true"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e6cf1103-4ad7-43c7-b614-ca40f1402ba3",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_user_id_1}}/users"
          },
          "response": []
        },
        {
          "name": "user 2 quit album-Not a member",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3655d83b-f76d-4dc2-994e-57e287da2039",
                "exec": [
                  "tests[\"Status code is 404\"] = responseCode.code === 404;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b746b740-7889-4adb-ae84-7acc01cea1d1",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_id}}"
          },
          "response": []
        },
        {
          "name": "self add user 2-Not a member",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4e82ae60-e445-4f90-9a8a-f5448eb9e452",
                "exec": [
                  "tests[\"Status code is 404\"] = responseCode.code === 404;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "aca7e970-ba5d-401c-bf86-beb5b783f057",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_mail}}"
          },
          "response": []
        },
        {
          "name": "add user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d9f47810-b5c0-4c3e-bf3e-058307df3914",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "6b801202-6e29-4139-adb7-65f2577ced8e",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_mail}}"
          },
          "response": []
        },
        {
          "name": "get users album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "67dbddfb-9184-42d0-b69e-8aa0a577d7c2",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 users\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"user_name_0\"] = jsonObject[0].email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"is_admin_0\"] = jsonObject[0].is_admin == true",
                  "",
                  "tests[\"user_name_1\"] = jsonObject[1].email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"is_admin_1\"] = jsonObject[1].is_admin == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ad4ed527-cda6-4ef5-afa6-1c5dcf9bd360",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_user_id_1}}/users"
          },
          "response": []
        },
        {
          "name": "self promote user 2 admin-Forbidden",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38990284-96e1-4bdc-a21b-11ed93122674",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "c969807c-8e39-4ea7-87e0-85823d39e7a4",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_id}}/admin"
          },
          "response": []
        },
        {
          "name": "demote user 1 admin by a non-admin-Forbidden",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9267969e-8d15-4677-a4f9-f950a4f6f62a",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "c27bb238-5be7-4a02-856d-59b53f981945",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user1_mail}}/admin"
          },
          "response": []
        },
        {
          "name": "add user 2 directly admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a6f486ad-c871-4592-93ca-50e771b50037",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "234955f5-8f4f-42b8-9f1d-c16ef5aaa001",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_mail}}/admin"
          },
          "response": []
        },
        {
          "name": "get users album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d7f17c48-ba99-4eea-a130-2acd1f1fa552",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 users\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"user_name_0\"] = jsonObject[0].email == \"titi@gmail.com\"",
                  "",
                  "tests[\"is_admin_0\"] = jsonObject[0].is_admin == true",
                  "",
                  "tests[\"user_name_1\"] = jsonObject[1].email == \"toto@gmail.com\"",
                  "",
                  "tests[\"is_admin_1\"] = jsonObject[1].is_admin == true"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "c5b9b116-5815-412d-9d80-6e961dbed706",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_user_id_1}}/users"
          },
          "response": []
        },
        {
          "name": "demote user 2 admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8ce76431-c502-4b35-bb2f-cdecefac9307",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "242c740c-6d89-4e50-9d0b-aca528b83e26",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_id}}/admin"
          },
          "response": []
        },
        {
          "name": "edit album (addUser permission)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c53cac0a-cb06-494f-afdb-5d3503f53346",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_user_id_1\");",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == true",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ca5a0023-581d-4b2a-8590-4ca97dfb0219",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PATCH",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "addUser",
                  "value": "true",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}"
          },
          "response": []
        },
        {
          "name": "user 1 quit album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "42c61bda-274a-498c-bc85-243b637c6fef",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "fd94c9c4-bd40-4c93-87ac-d8529eab7ea0",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user1_mail}}"
          },
          "response": []
        },
        {
          "name": "add user 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "482ed9e7-17d2-4a7f-aa1d-23849eb41124",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "729c49dd-3f4b-4528-b470-ea89c0aabfd0",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user1_id}}"
          },
          "response": []
        },
        {
          "name": "add Bad user",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f159e700-6c56-4b82-81fa-276a61126623",
                "exec": [
                  "tests[\"Status code is 404\"] = responseCode.code === 404;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d4e85042-a3d6-4fa8-8655-61db6532e8f0",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/11111111"
          },
          "response": []
        },
        {
          "name": "get users album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "926f0d1c-7ca5-4e0e-9bb2-35eeddda6cea",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 users\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"user_name_0\"] = jsonObject[0].email == \"titi@gmail.com\"",
                  "",
                  "tests[\"is_admin_0\"] = jsonObject[0].is_admin == false",
                  "",
                  "tests[\"user_name_1\"] = jsonObject[1].email == \"toto@gmail.com\"",
                  "",
                  "tests[\"is_admin_1\"] = jsonObject[1].is_admin == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "875f7b26-317d-4002-bc04-e3302d35de7e",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_user_id_1}}/users"
          },
          "response": []
        },
        {
          "name": "user 1 quit album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "42c61bda-274a-498c-bc85-243b637c6fef",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "6565e7a4-e7ac-41b7-8736-7346a065b346",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user1_mail}}"
          },
          "response": []
        },
        {
          "name": "user 2 quit album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "42c61bda-274a-498c-bc85-243b637c6fef",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "7ba73aaa-8b6e-42c3-bf31-023fdc19db50",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_user_id_1}}/users/{{user2_mail}}"
          },
          "response": []
        }
      ],
      "_postman_id": "5e67cba0-2db3-4341-8dea-e5739fbff0e6"
    },
    {
      "name": "comments",
      "item": [
        {
          "name": "Create an album-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e10c7f58-c696-43e7-979b-9c28b899124a",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_id_comment\", jsonObject.album_id);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8f603859-bb40-4828-b873-f4cc11a72b5d",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "sendSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "name",
                  "value": "a name",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "a description",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "album post comment",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6394d760-a827-4bb3-9b2b-327181c02fcd",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "52cc13b9-2e1a-46dc-9d93-ecd25f514e19",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "comment",
                  "value": "comment 1",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_id_comment}}/comments"
          },
          "response": []
        },
        {
          "name": "get all comments",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0b2cbfe7-a935-4df8-a287-a6ce721b6b4d",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 comment\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 1\"] = postman.getResponseHeader(\"X-Total-Count\") == 1;",
                  "",
                  "tests[\"event_type\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment\"] = jsonObject[0].comment == \"comment 1\"",
                  "",
                  "tests[\"is_private\"] = jsonObject[0].is_private == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "6bc0dcf5-5ea0-4f88-a54e-a2e75cc3d3e5",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "album post comment",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "208217ca-f974-42b5-af20-4d5bbe3b0af9",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;",
                  "",
                  "function wait(ms)",
                  "{",
                  "    var d = new Date();",
                  "    var d2 = null;",
                  "    do { d2 = new Date(); }",
                  "    while(d2-d < ms);",
                  "}",
                  "",
                  "wait(3000);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "811ae163-12e2-478b-a5ae-0901f29d67ff",
                "exec": [
                  "function wait(ms)",
                  "{",
                  "    var d = new Date();",
                  "    var d2 = null;",
                  "    do { d2 = new Date(); }",
                  "    while(d2-d < ms);",
                  "}",
                  "",
                  "wait(3000);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "c2245941-ad43-4de4-9d94-719ccbf4689a",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "comment",
                  "value": "comment 2",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_id_comment}}/comments"
          },
          "response": []
        },
        {
          "name": "album post private comment-User not a member",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "df6a6d48-2274-46b3-bd9b-a3016c472d11",
                "exec": [
                  "tests[\"Status code is 404\"] = responseCode.code === 404;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "f63189d6-96d9-4ebf-bfff-0c6f4d14aa90",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "comment",
                  "value": "comment 3",
                  "type": "text"
                },
                {
                  "key": "to_user",
                  "value": "{{user2_id}}",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_id_comment}}/comments"
          },
          "response": []
        },
        {
          "name": "add user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6767f85f-4f99-43d7-872c-186d740dae12",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "bad4b482-844d-4fca-8844-d663f0742ed2",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_id_comment}}/users/{{user2_mail}}"
          },
          "response": []
        },
        {
          "name": "add user 3",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6767f85f-4f99-43d7-872c-186d740dae12",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "52897849-7184-4846-a028-d3b3680e13a2",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_id_comment}}/users/{{user3_id}}"
          },
          "response": []
        },
        {
          "name": "album post private comment-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6394d760-a827-4bb3-9b2b-327181c02fcd",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9c4b800e-38d0-43d2-a023-768b233883d3",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "comment",
                  "value": "comment 3",
                  "type": "text"
                },
                {
                  "key": "to_user",
                  "value": "{{user2_mail}}",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_id_comment}}/comments"
          },
          "response": []
        },
        {
          "name": "get all comments by user 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "4cf72b03-1be4-47ed-a0c5-e19362705733",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 comment\"] = jsonObject.length === 3;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_0\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_0\"] = jsonObject[0].comment == \"comment 3\"",
                  "",
                  "tests[\"is_private_0\"] = jsonObject[0].is_private == true",
                  "",
                  "tests[\"target_name_0\"] = jsonObject[0].target.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "",
                  "tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_1\"] = jsonObject[1].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_1\"] = jsonObject[1].comment == \"comment 2\"",
                  "",
                  "tests[\"is_private_1\"] = jsonObject[1].is_private == false",
                  "",
                  "",
                  "",
                  "tests[\"event_type_2\"] = jsonObject[2].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_2\"] = jsonObject[2].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_2\"] = jsonObject[2].comment == \"comment 1\"",
                  "",
                  "tests[\"is_private_2\"] = jsonObject[2].is_private == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "da3bf77e-4b00-4cba-b8db-94f442c51759",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all comments by user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f0e82f41-5bb9-421b-b91b-c214e12285f5",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 comment\"] = jsonObject.length === 3;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_0\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_0\"] = jsonObject[0].comment == \"comment 3\"",
                  "",
                  "tests[\"is_private_0\"] = jsonObject[0].is_private == true",
                  "",
                  "tests[\"target_name_0\"] = jsonObject[0].target.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "",
                  "tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_1\"] = jsonObject[1].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_1\"] = jsonObject[1].comment == \"comment 2\"",
                  "",
                  "tests[\"is_private_1\"] = jsonObject[1].is_private == false",
                  "",
                  "",
                  "",
                  "tests[\"event_type_2\"] = jsonObject[2].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_2\"] = jsonObject[2].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_2\"] = jsonObject[2].comment == \"comment 1\"",
                  "",
                  "tests[\"is_private_2\"] = jsonObject[2].is_private == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "46972750-763f-4f4c-8588-195d3e3e8dc9",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all comments by user 3",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a9a343de-4a7e-4cc1-9e42-9ced07b09750",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 comment\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"X-Total-Count = 2\"] = postman.getResponseHeader(\"X-Total-Count\") == 2;",
                  "",
                  "",
                  "tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_0\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_0\"] = jsonObject[0].comment == \"comment 2\"",
                  "",
                  "tests[\"is_private_0\"] = jsonObject[0].is_private == false",
                  "",
                  "",
                  "",
                  "tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_1\"] = jsonObject[1].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_1\"] = jsonObject[1].comment == \"comment 1\"",
                  "",
                  "tests[\"is_private_1\"] = jsonObject[1].is_private == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "2f2209c8-d72a-47a9-a41a-c55bdd6d8b72",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user3_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all comments limit by user 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fcb8cbea-2f02-4b25-b805-6f5d69d4dff3",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 comment\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_0\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_0\"] = jsonObject[0].comment == \"comment 3\"",
                  "",
                  "tests[\"is_private_0\"] = jsonObject[0].is_private == true",
                  "",
                  "tests[\"target_name_0\"] = jsonObject[0].target.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "",
                  "tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_1\"] = jsonObject[1].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_1\"] = jsonObject[1].comment == \"comment 2\"",
                  "",
                  "tests[\"is_private_1\"] = jsonObject[1].is_private == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "63214536-6a31-494d-b81e-0ccc7638d249",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments&limit=2",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                },
                {
                  "key": "limit",
                  "value": "2"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all comments limit by user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "9ed86b3e-3539-4789-b567-c7a9545d1b78",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 comment\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_0\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_0\"] = jsonObject[0].comment == \"comment 3\"",
                  "",
                  "tests[\"is_private_0\"] = jsonObject[0].is_private == true",
                  "",
                  "tests[\"target_name_0\"] = jsonObject[0].target.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "",
                  "tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_1\"] = jsonObject[1].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_1\"] = jsonObject[1].comment == \"comment 2\"",
                  "",
                  "tests[\"is_private_1\"] = jsonObject[1].is_private == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "7d4d26ec-2d6f-4c3a-beed-b48000dcf8d1",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments&limit=2",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                },
                {
                  "key": "limit",
                  "value": "2"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all comments limit by user 3",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8fdccdd7-1284-40e5-96f9-06a56236ad60",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 comment\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"X-Total-Count = 2\"] = postman.getResponseHeader(\"X-Total-Count\") == 2;",
                  "",
                  "",
                  "",
                  "tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_0\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_0\"] = jsonObject[0].comment == \"comment 2\"",
                  "",
                  "tests[\"is_private_0\"] = jsonObject[0].is_private == false",
                  "",
                  "",
                  "",
                  "tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_1\"] = jsonObject[1].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_1\"] = jsonObject[1].comment == \"comment 1\"",
                  "",
                  "tests[\"is_private_1\"] = jsonObject[1].is_private == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "1e85c2ab-9f69-4fdb-bae6-6ad63fd6697a",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user3_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments&limit=2",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                },
                {
                  "key": "limit",
                  "value": "2"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all comments offset by user 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7b653e07-4eb9-481c-bfa6-b7beb2b52eee",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 comment\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_0\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_0\"] = jsonObject[0].comment == \"comment 2\"",
                  "",
                  "tests[\"is_private_0\"] = jsonObject[0].is_private == false",
                  "",
                  "",
                  "tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_1\"] = jsonObject[1].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_1\"] = jsonObject[1].comment == \"comment 1\"",
                  "",
                  "tests[\"is_private_1\"] = jsonObject[1].is_private == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "56481a6c-43bd-4c1c-9353-73c93a2e6007",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments&offset=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                },
                {
                  "key": "offset",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all comments offset by user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "e4b8bd12-d92f-45c0-94a6-4a6c6bae021a",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 2 comment\"] = jsonObject.length === 2;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"event_type_0\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_0\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_0\"] = jsonObject[0].comment == \"comment 2\"",
                  "",
                  "tests[\"is_private_0\"] = jsonObject[0].is_private == false",
                  "",
                  "",
                  "tests[\"event_type_1\"] = jsonObject[1].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name_1\"] = jsonObject[1].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment_1\"] = jsonObject[1].comment == \"comment 1\"",
                  "",
                  "tests[\"is_private_1\"] = jsonObject[1].is_private == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "ca403615-951a-45b3-8ef6-0f11b328b89e",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments&offset=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                },
                {
                  "key": "offset",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all comments offset by user 3",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a909510f-ba23-4a78-a626-6343a8dc54d1",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 comment\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 2\"] = postman.getResponseHeader(\"X-Total-Count\") == 2;",
                  "",
                  "tests[\"event_type\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment\"] = jsonObject[0].comment == \"comment 1\"",
                  "",
                  "tests[\"is_private\"] = jsonObject[0].is_private == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "68d9a126-5a78-4874-9f57-4acf31068677",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user3_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments&offset=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                },
                {
                  "key": "offset",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all comments limit offset by user 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "743b399e-317e-42d6-a74a-b23f39a6e8e1",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 comment\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"event_type\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment\"] = jsonObject[0].comment == \"comment 2\"",
                  "",
                  "tests[\"is_private\"] = jsonObject[0].is_private == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3cb3ef67-f92d-42d6-affd-38e4e85ba865",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments&limit=1&offset=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                },
                {
                  "key": "limit",
                  "value": "1"
                },
                {
                  "key": "offset",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all comments limit offset by user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6b25b7cd-6091-42a6-a825-279b4689e467",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 comment\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"event_type\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment\"] = jsonObject[0].comment == \"comment 2\"",
                  "",
                  "tests[\"is_private\"] = jsonObject[0].is_private == false",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0518e9b9-576f-48e3-922f-829908a85852",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments&limit=1&offset=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                },
                {
                  "key": "limit",
                  "value": "1"
                },
                {
                  "key": "offset",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all comments limit offset by user 3",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "11c6cc7d-0c9a-455f-bf4b-07f9fa50c0c2",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 comment\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 2\"] = postman.getResponseHeader(\"X-Total-Count\") == 2;",
                  "",
                  "tests[\"event_type\"] = jsonObject[0].event_type ==  \"Comment\"",
                  "",
                  "tests[\"origin_name\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"comment\"] = jsonObject[0].comment == \"comment 1\"",
                  "",
                  "tests[\"is_private\"] = jsonObject[0].is_private == false"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "2d7d21ec-4a31-4e55-8501-8cacbc154ab5",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user3_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_comment}}/events?types=comments&limit=1&offset=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_comment}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                },
                {
                  "key": "limit",
                  "value": "1"
                },
                {
                  "key": "offset",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album by user 1 3 comments-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5c0084c3-397f-42f0-bfce-9f5d30a6f95e",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_comment\");",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 3",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 3"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "6d3c62d1-34dd-441b-bb9c-405d97d775d3",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_id_comment}}"
          },
          "response": []
        },
        {
          "name": "get album by user 2 3 comments-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5c0084c3-397f-42f0-bfce-9f5d30a6f95e",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_comment\");",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 3",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 3"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "62a1fe62-36fa-47af-aa67-53c7b1ee75f3",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_id_comment}}"
          },
          "response": []
        },
        {
          "name": "get album by user 3 2 comments-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3787b72b-5799-4902-83b2-d684d36f64a1",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_comment\");",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 3",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 2"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "61461e4d-0108-4882-a620-1ba39c6e8745",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user3_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_id_comment}}"
          },
          "response": []
        }
      ],
      "_postman_id": "5c3efddc-77df-498f-aa69-6e9fa30e5657"
    },
    {
      "name": "mutation",
      "item": [
        {
          "name": "Create an album-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "378ddc80-87e5-4e0b-a65c-faefcd6e7b23",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_id_mutation\", jsonObject.album_id);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "09696a2f-ce54-4545-867c-e5f0f65d4396",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "sendSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "name",
                  "value": "a name",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "a description",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "get CREATE_ALBUM mutation",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "fdbc61ea-6376-4fdc-9e04-a02623cd8435",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 1\"] = postman.getResponseHeader(\"X-Total-Count\") == 1;",
                  "",
                  "tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
                  "",
                  "tests[\"origin_name\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"CREATE_ALBUM\"",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "2b17e94a-964d-4ee5-b898-92d5614240ac",
                "exec": [
                  "function wait(ms)",
                  "{",
                  "    var d = new Date();",
                  "    var d2 = null;",
                  "    do { d2 = new Date(); }",
                  "    while(d2-d < ms);",
                  "}",
                  "",
                  "wait(3000);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0dcb917c-0334-4b70-b086-d2ff7c88f370",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_mutation}}/events?types=mutations&limit=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_mutation}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "mutations"
                },
                {
                  "key": "limit",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "add user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6767f85f-4f99-43d7-872c-186d740dae12",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9c7374f7-0b7d-4989-85e2-0e72a6229622",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_id_mutation}}/users/{{user2_id}}"
          },
          "response": []
        },
        {
          "name": "get ADD_USER mutation",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5422f18f-a8bc-4469-b61e-473615c3f6c1",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 2\"] = postman.getResponseHeader(\"X-Total-Count\") == 2;",
                  "",
                  "tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
                  "",
                  "tests[\"origin_name\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"target_name\"] = jsonObject[0].target.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"ADD_USER\"",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "e3489fc7-e27c-44eb-9b6e-cb1a5b3c4d38",
                "exec": [
                  "function wait(ms)",
                  "{",
                  "    var d = new Date();",
                  "    var d2 = null;",
                  "    do { d2 = new Date(); }",
                  "    while(d2-d < ms);",
                  "}",
                  "",
                  "wait(3000);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "66b5d9a5-bf3f-4370-83f8-dd5f0514515f",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_mutation}}/events?types=mutations&limit=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_mutation}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "mutations"
                },
                {
                  "key": "limit",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "user 2 quit album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "42c61bda-274a-498c-bc85-243b637c6fef",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "00ecbaa8-f461-4da8-83b3-41aad32cedc5",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_id_mutation}}/users/{{user2_id}}"
          },
          "response": []
        },
        {
          "name": "get LEAVE_ALBUM mutation",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c6b242b9-cc21-42d9-9640-46557d1f8edf",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  "",
                  "tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
                  "",
                  "tests[\"origin_name\"] = jsonObject[0].origin.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"LEAVE_ALBUM\"",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "e254f57d-41e7-42b3-a7ab-22ef4c94304f",
                "exec": [
                  "function wait(ms)",
                  "{",
                  "    var d = new Date();",
                  "    var d2 = null;",
                  "    do { d2 = new Date(); }",
                  "    while(d2-d < ms);",
                  "}",
                  "",
                  "wait(3000);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0ec8d726-6c7f-4f52-8978-c08f54e8027e",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_mutation}}/events?types=mutations&limit=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_mutation}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "mutations"
                },
                {
                  "key": "limit",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "add user 2 admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a6f486ad-c871-4592-93ca-50e771b50037",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "c5f62195-3005-4ea8-8d98-858cc25ec2e8",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_id_mutation}}/users/{{user2_mail}}/admin"
          },
          "response": []
        },
        {
          "name": "get ADD_ADMIN mutation",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a9d09304-8fdc-470e-81b0-5c116a85c332",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 4\"] = postman.getResponseHeader(\"X-Total-Count\") == 4;",
                  "",
                  "tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
                  "",
                  "tests[\"origin_name\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"target_name\"] = jsonObject[0].target.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"ADD_ADMIN\"",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "de75bd05-025f-4f7e-bb2d-660ffc9bc1aa",
                "exec": [
                  "function wait(ms)",
                  "{",
                  "    var d = new Date();",
                  "    var d2 = null;",
                  "    do { d2 = new Date(); }",
                  "    while(d2-d < ms);",
                  "}",
                  "",
                  "wait(3000);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b44b3883-dd88-4012-a86d-56bc7238eee2",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_mutation}}/events?types=mutations&limit=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_mutation}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "mutations"
                },
                {
                  "key": "limit",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "demote user 2 admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8ce76431-c502-4b35-bb2f-cdecefac9307",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3d953aab-0266-4e45-a96b-78337023e793",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_id_mutation}}/users/{{user2_mail}}/admin"
          },
          "response": []
        },
        {
          "name": "get DEMOTE_ADMIN mutation",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f0fcde6e-c8a3-4263-bbff-e66748b4fd58",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 5\"] = postman.getResponseHeader(\"X-Total-Count\") == 5;",
                  "",
                  "tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
                  "",
                  "tests[\"origin_name\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"target_name\"] = jsonObject[0].target.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"DEMOTE_ADMIN\"",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "b0c6bb40-637a-4c28-85c6-9d5c308c2444",
                "exec": [
                  "function wait(ms)",
                  "{",
                  "    var d = new Date();",
                  "    var d2 = null;",
                  "    do { d2 = new Date(); }",
                  "    while(d2-d < ms);",
                  "}",
                  "",
                  "wait(3000);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "895f00fd-0449-4844-a750-6e304986d446",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_mutation}}/events?types=mutations&limit=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_mutation}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "mutations"
                },
                {
                  "key": "limit",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "promote user 2 admin",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a6f486ad-c871-4592-93ca-50e771b50037",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "92ff5411-3613-49c5-a485-b5ab31002d22",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_id_mutation}}/users/{{user2_id}}/admin"
          },
          "response": []
        },
        {
          "name": "get PROMOTE_ADMIN mutation",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "0832f5f3-d3e3-426f-82d9-9bc3afa7c6a9",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 6\"] = postman.getResponseHeader(\"X-Total-Count\") == 6;",
                  "",
                  "tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
                  "",
                  "tests[\"origin_name\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"target_name\"] = jsonObject[0].target.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"PROMOTE_ADMIN\"",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "de75bd05-025f-4f7e-bb2d-660ffc9bc1aa",
                "exec": [
                  "function wait(ms)",
                  "{",
                  "    var d = new Date();",
                  "    var d2 = null;",
                  "    do { d2 = new Date(); }",
                  "    while(d2-d < ms);",
                  "}",
                  "",
                  "wait(3000);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9e0d851f-6d5e-46ae-ba39-ed0e7aa99055",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_mutation}}/events?types=mutations&limit=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_mutation}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "mutations"
                },
                {
                  "key": "limit",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "remove user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "43ce39fd-02e9-4fd1-9f27-f20b3cacd05d",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "761e5fec-f57b-4628-b234-c43cbabd2596",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_id_mutation}}/users/{{user2_id}}"
          },
          "response": []
        },
        {
          "name": "get REMOVE_USER mutation",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "52f5e3f7-e670-46fb-85e7-0046c5836bde",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 mutation\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"X-Total-Count = 7\"] = postman.getResponseHeader(\"X-Total-Count\") == 7;",
                  "",
                  "tests[\"event_type\"] = jsonObject[0].event_type ==  \"Mutation\"",
                  "",
                  "tests[\"origin_name\"] = jsonObject[0].origin.email == pm.variables.get(\"user1_mail\");",
                  "",
                  "tests[\"target_name\"] = jsonObject[0].target.email == pm.variables.get(\"user2_mail\");",
                  "",
                  "tests[\"mutation_type\"] = jsonObject[0].mutation_type == \"REMOVE_USER\"",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "93296f51-f95e-435b-bee2-46b9f377a49c",
                "exec": [
                  "function wait(ms)",
                  "{",
                  "    var d = new Date();",
                  "    var d2 = null;",
                  "    do { d2 = new Date(); }",
                  "    while(d2-d < ms);",
                  "}",
                  "",
                  "wait(3000);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "60ae4c6e-fee8-498b-8946-e6057544ec2f",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_mutation}}/events?types=mutations&limit=1",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_mutation}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "mutations"
                },
                {
                  "key": "limit",
                  "value": "1"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all mutations",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "f405f138-a6c4-4d0c-8ef1-6a4cbec5f40c",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 7 mutations\"] = jsonObject.length === 7;",
                  "",
                  "tests[\"X-Total-Count = 7\"] = postman.getResponseHeader(\"X-Total-Count\") == 7;",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "aad46e9a-0f1b-48b2-a924-49ac01ad802f",
                "exec": [
                  "function wait(ms)",
                  "{",
                  "    var d = new Date();",
                  "    var d2 = null;",
                  "    do { d2 = new Date(); }",
                  "    while(d2-d < ms);",
                  "}",
                  "",
                  "wait(1000);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "8e22630f-c9af-48a8-b958-49a93b4ff7fe",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_mutation}}/events?types=mutations",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_mutation}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "mutations"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "album post comment",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6394d760-a827-4bb3-9b2b-327181c02fcd",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4518893b-7f6f-4b5f-bd0a-0ce985997953",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "comment",
                  "value": "comment 1",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_id_mutation}}/comments"
          },
          "response": []
        },
        {
          "name": "album post comment",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6394d760-a827-4bb3-9b2b-327181c02fcd",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "58a6a021-b27e-4ffe-be5f-90fb469980a6",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "comment",
                  "value": "comment 1",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_id_mutation}}/comments"
          },
          "response": []
        },
        {
          "name": "album post comment",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6394d760-a827-4bb3-9b2b-327181c02fcd",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "81c46b78-6051-403a-b41d-10343c01a237",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5b81869f-f58b-4206-9beb-3365f8cd66d0",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "comment",
                  "value": "comment 1",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums/{{album_id_mutation}}/comments"
          },
          "response": []
        },
        {
          "name": "get all comments",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "2ec051c1-37ee-4782-bda8-50e2de355ac4",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 comments\"] = jsonObject.length === 3;",
                  "",
                  "tests[\"X-Total-Count = 3\"] = postman.getResponseHeader(\"X-Total-Count\") == 3;",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "cbe7e1c5-9fb8-4146-9f6a-83bc48738c9e",
                "exec": [
                  "function wait(ms)",
                  "{",
                  "    var d = new Date();",
                  "    var d2 = null;",
                  "    do { d2 = new Date(); }",
                  "    while(d2-d < ms);",
                  "}",
                  "",
                  "wait(3000);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "00fcb2f1-7b9e-4a97-84aa-23d6895116d4",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_mutation}}/events?types=comments",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_mutation}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "comments"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all mutations and comments with types",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c0bbc09c-8448-49bb-9486-44339a4f8088",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 10 events\"] = jsonObject.length === 10;",
                  "",
                  "tests[\"X-Total-Count = 10\"] = postman.getResponseHeader(\"X-Total-Count\") == 10;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "096d3ad4-998f-4842-9148-2544e2da7732",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d6289465-b4c1-402a-8662-6a9c8be99709",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums/{{album_id_mutation}}/events?types=mutations&types=comments",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums",
                "{{album_id_mutation}}",
                "events"
              ],
              "query": [
                {
                  "key": "types",
                  "value": "mutations"
                },
                {
                  "key": "types",
                  "value": "comments"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get all mutations and comments without types",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "317464a7-ce13-4aa6-b6f2-f3cd39bacddf",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 10 events\"] = jsonObject.length === 10;",
                  "",
                  "tests[\"X-Total-Count = 10\"] = postman.getResponseHeader(\"X-Total-Count\") == 10;",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "d77d1d2d-4d70-4808-8d25-466774295116",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4e2c9702-23df-4226-840e-2236a63d2e58",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": "{{URL}}/albums/{{album_id_mutation}}/events"
          },
          "response": []
        }
      ],
      "_postman_id": "1ffb1228-7a5e-4ecc-9384-bce8e1f55e6b"
    },
    {
      "name": "sharing",
      "item": [
        {
          "name": "Create an album-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "99c69f67-f218-4f61-8724-5c0e8004e0a9",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_id_sharing\", jsonObject.album_id);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d390bb50-5fcf-4fdd-85bb-1e3fc38030be",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "sendSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "name",
                  "value": "a name",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "a description",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "user1 get studies list-Empty",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ecfbfd8c-6ada-4524-bfcc-b227972a4a14",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;",
                  "",
                  "tests[\"Empty response\"] = responseBody == \"\"",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "33ba6afb-79c2-48b1-bead-9aef63edcdb4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "afcdfd5e-387d-4c93-ae0c-55f10bd89879",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/studies?inbox",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies"
              ],
              "query": [
                {
                  "key": "inbox",
                  "value": null
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "STOW RS inside inbox",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "10934521-c04a-4f45-9aa9-60e322018d4c",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "2b84b3a1-f1b3-43e9-8cc3-e4cae38bdb07",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
              }
            ],
            "body": {
              "mode": "file",
              "file": {}
            },
            "url": "{{URL}}/studies"
          },
          "response": []
        },
        {
          "name": "user1 get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a72f8b1c-898f-4cda-97d9-eb1a11636b72",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 study\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ae9ce291-c4c8-45b5-87f3-d8dda0da528f",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5a6849ae-09ab-47c4-8012-19e7d137f56a",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/studies?inbox",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies"
              ],
              "query": [
                {
                  "key": "inbox",
                  "value": null
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Send study to an album from inbox user 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "910b5a1b-c53f-452d-b508-6170179cf2a3",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "74bb0bc4-b768-428b-b1bd-d7299a3bd8c0",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_sharing}}?inbox=true",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies",
                "{{study_UID}}",
                "albums",
                "{{album_id_sharing}}"
              ],
              "query": [
                {
                  "key": "inbox",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 study\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "beb0e13a-3420-4e6d-bbdd-337284f2eac5",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/studies?album={{album_id_sharing}}",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies"
              ],
              "query": [
                {
                  "key": "album",
                  "value": "{{album_id_sharing}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "user2 get studies list-Empty",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "ecfbfd8c-6ada-4524-bfcc-b227972a4a14",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;",
                  "",
                  "tests[\"Empty response\"] = responseBody == \"\"",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "33ba6afb-79c2-48b1-bead-9aef63edcdb4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "1b66d8d3-2a83-4b7c-a5f4-fd107a85da41",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/studies?inbox",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies"
              ],
              "query": [
                {
                  "key": "inbox",
                  "value": null
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Send study to user 2 from inbox user 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "910b5a1b-c53f-452d-b508-6170179cf2a3",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "06056fb4-591b-47c9-bf3e-e162e885b4a6",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{URL}}/studies/{{study_UID}}/users/{{user2_mail}}?inbox=true",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies",
                "{{study_UID}}",
                "users",
                "{{user2_mail}}"
              ],
              "query": [
                {
                  "key": "inbox",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "user2 get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "8f90964a-56ec-4149-a3a1-09b3d351d4e2",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 study\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "088500f6-483b-4f47-892e-9d8a769ec84a",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": "{{URL}}/studies"
          },
          "response": []
        },
        {
          "name": "Delete studies from inbox (user 1)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "da5aed77-382c-424e-92a7-cb21be055b26",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "e5506841-5beb-4ebc-9ab1-4f9207e6ce1e",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [],
            "url": "{{URL}}/studies/{{study_UID}}"
          },
          "response": []
        },
        {
          "name": "Delete studies from inbox (user 2)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "da5aed77-382c-424e-92a7-cb21be055b26",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0660ed82-dace-4282-8887-56cddc71bcdd",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "DELETE",
            "header": [],
            "url": "{{URL}}/studies/{{study_UID}}"
          },
          "response": []
        },
        {
          "name": "album get studies list debug",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 study\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "1eb25a95-6983-46d7-9c31-39bc10e036b5",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/studies?albums={{album_id_sharing}}",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies"
              ],
              "query": [
                {
                  "key": "albums",
                  "value": "{{album_id_sharing}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Send study to user 2 from album user 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "910b5a1b-c53f-452d-b508-6170179cf2a3",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "999773cf-a085-4cf9-b357-b676c922c999",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "value": "application/x-www-form-urlencoded",
                "type": "text"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": {
              "raw": "{{URL}}/studies/{{study_UID}}/users/{{user2_mail}}?album={{album_id_sharing}}",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies",
                "{{study_UID}}",
                "users",
                "{{user2_mail}}"
              ],
              "query": [
                {
                  "key": "album",
                  "value": "{{album_id_sharing}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Send study to inbox from album (user1)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "910b5a1b-c53f-452d-b508-6170179cf2a3",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "082ffb0a-0ca6-4f2c-a6c9-c3c0f6ec6d9f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "name": "Content-Type",
                "type": "text",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "album\n",
                  "type": "text",
                  "value": "{{album_id_sharing}}"
                }
              ]
            },
            "url": {
              "raw": "{{URL}}/studies/{{study_UID}}?album={{album_id_sharing}}",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies",
                "{{study_UID}}"
              ],
              "query": [
                {
                  "key": "album",
                  "value": "{{album_id_sharing}}"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "user1 get studies list debug",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a72f8b1c-898f-4cda-97d9-eb1a11636b72",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ae9ce291-c4c8-45b5-87f3-d8dda0da528f",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d903ec06-5411-4177-a048-819ecf031669",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/studies?inbox",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies"
              ],
              "query": [
                {
                  "key": "inbox",
                  "value": null
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "user2 get studies list debug",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a72f8b1c-898f-4cda-97d9-eb1a11636b72",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ae9ce291-c4c8-45b5-87f3-d8dda0da528f",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "1cf2f481-492e-42a2-b803-f29ec295d806",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/studies?inbox",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies"
              ],
              "query": [
                {
                  "key": "inbox",
                  "value": null
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete album",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "838738eb-cf68-4af4-80d3-b96e9d1d8928",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "b53da79e-4ba9-48b7-bff8-89416ff564f4",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "DELETE",
            "header": [],
            "url": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_sharing}}"
          },
          "response": []
        },
        {
          "name": "Create an album without add and delete permission-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "866e67b5-63ea-421c-9fe8-24189a2f9855",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_id_sharing2\", jsonObject.album_id);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "0e932311-c94a-4ccd-8e7e-893045875723",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "sendSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "addSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "deleteSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "name",
                  "value": "a name",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "a description",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "add user 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6caac9ee-c5de-4c2a-a071-187a3ddf168b",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "d4fe82f3-f57c-400b-b504-0037057b1e1e",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": []
            },
            "url": "{{URL}}/albums/{{album_id_sharing2}}/users/{{user2_id}}"
          },
          "response": []
        },
        {
          "name": "Send study to an album from inbox without add permission",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "afb2e99f-0222-41ba-91e3-24c25a5cbe1d",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "59168069-4b90-45e0-a22f-5fe9fed694de",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_sharing2}}?inbox=true",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies",
                "{{study_UID}}",
                "albums",
                "{{album_id_sharing2}}"
              ],
              "query": [
                {
                  "key": "inbox",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "user1 get studies list debug",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "a72f8b1c-898f-4cda-97d9-eb1a11636b72",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "ae9ce291-c4c8-45b5-87f3-d8dda0da528f",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "053c5f4c-86c0-401d-b7ea-61ea4db0247c",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{URL}}/studies?inbox",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies"
              ],
              "query": [
                {
                  "key": "inbox",
                  "value": null
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Send study to an album from inbox by an admin-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "910b5a1b-c53f-452d-b508-6170179cf2a3",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "4d2af223-28dc-4817-93f8-58cf78f7b0ab",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_sharing2}}?inbox=true",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies",
                "{{study_UID}}",
                "albums",
                "{{album_id_sharing2}}"
              ],
              "query": [
                {
                  "key": "inbox",
                  "value": "true"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete studies from album without delete permission",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "dfdd5b07-b137-4557-a59b-8f3200607697",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "DELETE",
            "header": [],
            "url": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_sharing2}}"
          },
          "response": []
        },
        {
          "name": "Delete studies from inbox (user 2)",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "da5aed77-382c-424e-92a7-cb21be055b26",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "224cb2d0-db7a-45b7-afdb-bee1e793409e",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user2_token}}"
              }
            },
            "method": "DELETE",
            "header": [],
            "url": "{{URL}}/studies/{{study_UID}}"
          },
          "response": []
        }
      ],
      "_postman_id": "a6c88c6c-15a8-4166-a1ba-e5afc2603db4"
    },
    {
      "name": "modality filter",
      "item": [
        {
          "name": "Create an album(1)-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c09cfdaa-aa57-499c-a23c-8e26fa376e1e",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_id_1\", jsonObject.album_id);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_1\");",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"name 1\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"description 1\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == false",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == true",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == false",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == true",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == true",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "89da40e1-5cc4-431a-b402-98ce51897760",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "sendSeries",
                  "type": "text",
                  "value": "false"
                },
                {
                  "key": "name",
                  "type": "text",
                  "value": "name 1"
                },
                {
                  "key": "description",
                  "type": "text",
                  "value": "description 1"
                }
              ]
            },
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "Create an album(1)-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c09cfdaa-aa57-499c-a23c-8e26fa376e1e",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_id_2\", jsonObject.album_id);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_2\");",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"name 2\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"description 1\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == false",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == true",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == false",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == true",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == true",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "6cd35d37-aa96-4d91-9b7f-bc63ad075146",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "sendSeries",
                  "type": "text",
                  "value": "false"
                },
                {
                  "key": "name",
                  "type": "text",
                  "value": "name 2"
                },
                {
                  "key": "description",
                  "type": "text",
                  "value": "description 1"
                }
              ]
            },
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "Create an album(1)-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c09cfdaa-aa57-499c-a23c-8e26fa376e1e",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_id_3\", jsonObject.album_id);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_3\");",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"name 3\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"description 1\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == false",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == true",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == false",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == true",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == true",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "5809971d-1e61-4552-9635-e091d5325bf3",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "sendSeries",
                  "type": "text",
                  "value": "false"
                },
                {
                  "key": "name",
                  "type": "text",
                  "value": "name 3"
                },
                {
                  "key": "description",
                  "type": "text",
                  "value": "description 1"
                }
              ]
            },
            "url": "{{URL}}/albums"
          },
          "response": []
        },
        {
          "name": "STOW RS inside album 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "10934521-c04a-4f45-9aa9-60e322018d4c",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "58015ee1-b1ec-4a40-a04b-da0f4b49698f",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
              }
            ],
            "body": {
              "mode": "file",
              "file": {}
            },
            "url": {
              "raw": "{{URL}}/studies?album={{album_id_1}}",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies"
              ],
              "query": [
                {
                  "key": "album",
                  "value": "{{album_id_1}}",
                  "type": "text"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "STOW RS inside album 1",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "10934521-c04a-4f45-9aa9-60e322018d4c",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "01444032-5e8f-4a5d-856f-5aaa67298c12",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
              }
            ],
            "body": {
              "mode": "file",
              "file": {}
            },
            "url": {
              "raw": "{{URL}}/studies?album={{album_id_1}}",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies"
              ],
              "query": [
                {
                  "key": "album",
                  "value": "{{album_id_1}}",
                  "type": "text"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "STOW RS inside album 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "10934521-c04a-4f45-9aa9-60e322018d4c",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "9a6f0bc4-89eb-44a8-a9b7-8c7d04aecc85",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
              }
            ],
            "body": {
              "mode": "file",
              "file": {}
            },
            "url": {
              "raw": "{{URL}}/studies?album={{album_id_2}}",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies"
              ],
              "query": [
                {
                  "key": "album",
                  "value": "{{album_id_2}}",
                  "type": "text"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "STOW RS inside album 2",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "10934521-c04a-4f45-9aa9-60e322018d4c",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "3446dc3c-9dd8-4af2-828c-950ffba513fb",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
              }
            ],
            "body": {
              "mode": "file",
              "file": {}
            },
            "url": {
              "raw": "{{URL}}/studies?album={{album_id_2}}",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "studies"
              ],
              "query": [
                {
                  "key": "album",
                  "value": "{{album_id_2}}",
                  "type": "text"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list-modality filter-CT",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "62d44f57-a4bb-4ea6-a6cc-770470ff263a",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 3 album\"] = jsonObject.length === 3;",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "60500465-001b-4201-8351-9745cda3e7aa",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?modality=ct",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "modality",
                  "value": "ct"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list-modality filter-MR",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "62d44f57-a4bb-4ea6-a6cc-770470ff263a",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 album\"] = jsonObject.length === 1;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "576e0d42-6516-49d3-ae4c-e7a893fdd515",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?modality=MR",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "modality",
                  "value": "MR"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "get album list-modality filter-SC",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "62d44f57-a4bb-4ea6-a6cc-770470ff263a",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 album\"] = jsonObject.length === 1;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "34930514-9077-47db-bf12-4dbf2c425f62",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "_postman_id": "23c5d02d-61a7-4168-9cda-89443666fa0a",
          "protocolProfileBehavior": {
            "disableBodyPruning": true
          },
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": {
                "token": "{{user1_token}}"
              }
            },
            "method": "GET",
            "header": [
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "url": {
              "raw": "{{URL}}/albums?modality=sc",
              "host": [
                "{{URL}}"
              ],
              "path": [
                "albums"
              ],
              "query": [
                {
                  "key": "modality",
                  "value": "sc"
                }
              ]
            }
          },
          "response": []
        }
      ],
      "_postman_id": "80817e8d-5f8a-479f-9d72-3eefae521c05"
    }
  ]
}
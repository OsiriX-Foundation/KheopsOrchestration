{
  "info": {
    "_postman_id": "22f870c7-31c6-4969-8c4b-76804787edab",
    "name": "kheops_Capabilities_tokens_Delete",
    "schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
  },
  "item": [
    {
      "_postman_id": "e6c8b79c-0f25-4b35-a5a4-6c012b3f61e8",
      "name": "Initialisation",
      "description": "",
      "item": [
        {
          "_postman_id": "9e6320f4-be8d-40ae-b71f-09feef49bcbf",
          "name": "create user1-create",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "83822f04-38b7-400f-bc35-7a638a6d5e26",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"access_token_user1\", jsonObject.access_token);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "794cf6b5-3c58-4f4f-b14b-e1a551b617dc",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "grant_type",
                  "value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
                  "type": "text"
                },
                {
                  "key": "assertion",
                  "value": "{{user1_token}}",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/token"
          },
          "response": []
        },
        {
          "_postman_id": "b8e2421d-2d13-46f5-b712-ee3edcd93d34",
          "name": "create user2-create",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3366818a-20f6-439d-bb8c-8a7d4fc40b9d",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"access_token_user2\", jsonObject.access_token);",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "794cf6b5-3c58-4f4f-b14b-e1a551b617dc",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "grant_type",
                  "value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
                  "type": "text"
                },
                {
                  "key": "assertion",
                  "value": "{{user2_token}}",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/token"
          },
          "response": []
        },
        {
          "_postman_id": "82eb78c8-d922-4d04-8a71-c87bab5531a5",
          "name": "create user3-create",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "6ea2d7bb-b849-4327-b8fe-c5003480b2d6",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"access_token_user3\", jsonObject.access_token);",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "794cf6b5-3c58-4f4f-b14b-e1a551b617dc",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "grant_type",
                  "value": "urn:ietf:params:oauth:grant-type:jwt-bearer",
                  "type": "text"
                },
                {
                  "key": "assertion",
                  "value": "{{user3_token}}",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/token"
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "eedf2349-2443-497c-bed4-070bbdceb9a9",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "6ca5f33e-5df8-441f-8fe1-d3ad6c95e633",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "_postman_id": "1be3f6f5-ec31-4d70-b5e3-2c2fe643fada",
      "name": "Album",
      "description": "",
      "item": [
        {
          "_postman_id": "22df5bbd-48a3-4c22-b68d-a8005bee8598",
          "name": "Create an album(1)-OK",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c09cfdaa-aa57-499c-a23c-8e26fa376e1e",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "pm.environment.set(\"album_id_1\", jsonObject.album_id);",
                  "",
                  "tests[\"album_id\"] = jsonObject.album_id == pm.environment.get(\"album_id_1\");",
                  "",
                  "tests[\"name\"] = jsonObject.name == \"name 1\"",
                  "",
                  "tests[\"description\"] = jsonObject.description == \"description 1\"",
                  "",
                  "tests[\"is_favorite\"] = jsonObject.is_favorite == false",
                  "",
                  "tests[\"number_of_users\"] = jsonObject.number_of_users == 1",
                  "",
                  "tests[\"number_of_comments\"] = jsonObject.number_of_comments == 0",
                  "",
                  "tests[\"number_of_studies\"] = jsonObject.number_of_studies == 0",
                  "",
                  "tests[\"add_user\"] = jsonObject.add_user == false",
                  "",
                  "tests[\"download_series\"] = jsonObject.download_series == true",
                  "",
                  "tests[\"send_series\"] = jsonObject.send_series == false",
                  "",
                  "tests[\"delete_series\"] = jsonObject.delete_series == false",
                  "",
                  "tests[\"add_series\"] = jsonObject.add_series == true",
                  "",
                  "tests[\"write_comments\"] = jsonObject.write_comments == true",
                  "",
                  "tests[\"notification_new_series\"] = jsonObject.notification_new_series == true",
                  "",
                  "tests[\"notification_new_comment\"] = jsonObject.notification_new_comment == true",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "9779808a-2ba5-42f3-a7a1-2d91cb976010",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token_user1}}"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "sendSeries",
                  "value": "false",
                  "type": "text"
                },
                {
                  "key": "name",
                  "value": "name 1",
                  "type": "text"
                },
                {
                  "key": "description",
                  "value": "description 1",
                  "type": "text"
                }
              ]
            },
            "url": "{{URL}}/album"
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "bf04770b-6343-401e-b74e-a27e83b50470",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "e9125da5-7530-4937-8728-1e66c8d4a698",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "_postman_id": "07290694-4200-4a42-91f6-76ac016a6f80",
      "name": "Generate capabilities tokens",
      "description": "",
      "item": [
        {
          "_postman_id": "eae062e4-cde8-48e6-97bf-7dce5c8f37bc",
          "name": "Create a capability token write",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "31a1a60d-9293-4452-8e38-5f54a7c164db",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Description is correct\"] = jsonObject.description === pm.environment.get(\"title\");",
                  "tests[\"Revoked is false\"] = jsonObject.revoked === false;",
                  "",
                  "pm.environment.set(\"secret_capability_token_write\", jsonObject.secret);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "c99d50c0-13a7-4b5a-a1f7-2389cbc16232",
                "exec": [
                  "pm.environment.set(\"description\", \"some description\");"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token_user1}}"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "title",
                  "type": "text",
                  "value": "{{description}}"
                },
                {
                  "description": "",
                  "key": "scope_type",
                  "type": "text",
                  "value": "album"
                },
                {
                  "description": "",
                  "key": "album",
                  "type": "text",
                  "value": "{{album_id_1}}"
                },
                {
                  "description": "",
                  "key": "read_permission",
                  "type": "text",
                  "value": "false"
                },
                {
                  "description": "",
                  "key": "write_permission",
                  "type": "text",
                  "value": "true"
                },
                {
                  "description": "",
                  "key": "appropriate_permission",
                  "type": "text",
                  "value": "false"
                },
                {
                  "description": "",
                  "key": "download_permission",
                  "type": "text",
                  "value": "false"
                }
              ]
            },
            "url": "{{URL}}/capabilities"
          },
          "response": []
        },
        {
          "_postman_id": "7e139b7f-0844-4142-ba64-b26750969724",
          "name": "Create a capability token read",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "31a1a60d-9293-4452-8e38-5f54a7c164db",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Description is correct\"] = jsonObject.description === pm.environment.get(\"title\");",
                  "tests[\"Revoked is false\"] = jsonObject.revoked === false;",
                  "",
                  "pm.environment.set(\"secret_capability_token_read\", jsonObject.secret);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "c99d50c0-13a7-4b5a-a1f7-2389cbc16232",
                "exec": [
                  "pm.environment.set(\"description\", \"some description\");"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token_user1}}"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "title",
                  "type": "text",
                  "value": "{{description}}"
                },
                {
                  "description": "",
                  "key": "scope_type",
                  "type": "text",
                  "value": "album"
                },
                {
                  "description": "",
                  "key": "album",
                  "type": "text",
                  "value": "{{album_id_1}}"
                },
                {
                  "description": "",
                  "key": "read_permission",
                  "type": "text",
                  "value": "true"
                },
                {
                  "description": "",
                  "key": "write_permission",
                  "type": "text",
                  "value": "false"
                },
                {
                  "description": "",
                  "key": "appropriate_permission",
                  "type": "text",
                  "value": "false"
                },
                {
                  "description": "",
                  "key": "download_permission",
                  "type": "text",
                  "value": "false"
                }
              ]
            },
            "url": "{{URL}}/capabilities"
          },
          "response": []
        },
        {
          "_postman_id": "e46b6000-a9fd-473d-b8f4-54dd28d8c66d",
          "name": "Create a capability token read write",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "31a1a60d-9293-4452-8e38-5f54a7c164db",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 201\"] = responseCode.code === 201;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Description is correct\"] = jsonObject.description === pm.environment.get(\"title\");",
                  "tests[\"Revoked is false\"] = jsonObject.revoked === false;",
                  "",
                  "pm.environment.set(\"secret_capability_token_read_write\", jsonObject.secret);"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "c99d50c0-13a7-4b5a-a1f7-2389cbc16232",
                "exec": [
                  "pm.environment.set(\"description\", \"some description\");"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token_user1}}"
              },
              {
                "key": "Accept",
                "value": "application/json"
              },
              {
                "key": "Content-Type",
                "value": "application/x-www-form-urlencoded"
              }
            ],
            "body": {
              "mode": "urlencoded",
              "urlencoded": [
                {
                  "key": "title",
                  "type": "text",
                  "value": "{{description}}"
                },
                {
                  "description": "",
                  "key": "scope_type",
                  "type": "text",
                  "value": "album"
                },
                {
                  "description": "",
                  "key": "album",
                  "type": "text",
                  "value": "{{album_id_1}}"
                },
                {
                  "description": "",
                  "key": "read_permission",
                  "type": "text",
                  "value": "true"
                },
                {
                  "description": "",
                  "key": "write_permission",
                  "type": "text",
                  "value": "true"
                },
                {
                  "description": "",
                  "key": "appropriate_permission",
                  "type": "text",
                  "value": "false"
                },
                {
                  "description": "",
                  "key": "download_permission",
                  "type": "text",
                  "value": "false"
                }
              ]
            },
            "url": "{{URL}}/capabilities"
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "a89f3378-fc2f-4cac-b4f7-96989cfd551c",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "6d148eb2-3c7c-4e2b-9d3f-438426f84df5",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "_postman_id": "411b35e0-0a97-4317-a8e9-87f48e92a73d",
      "name": "STOW RS",
      "description": "",
      "item": [
        {
          "_postman_id": "8467db10-42f1-4f2a-b941-69a8ffd96148",
          "name": "STOW RS inside album capability token",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7524252c-94ee-4cd1-8780-15785472765a",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_write}}"
              }
            ],
            "body": {
              "mode": "file",
              "file": {
                "src": null
              }
            },
            "url": "{{URL}}/studies"
          },
          "response": []
        },
        {
          "_postman_id": "c7dadf1d-0bcd-474b-a39b-ff409ac58170",
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 study\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {},
            "url": "{{URL}}/studies"
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "a43051f9-5172-41f2-86b4-bd1301536045",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "ba58fb6a-5f4d-4a7b-bc3e-4a28e06412bf",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "_postman_id": "45a1c966-f069-41ef-aa35-560e1030a7a1",
      "name": "Delete /study/.../series/...",
      "description": "",
      "item": [
        {
          "_postman_id": "19fae0d7-bad3-4c5d-8dcc-efd8325eff56",
          "name": "Delete studies from album-write",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_write}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{URL}}/studies/{{study_UID}}/series/{{series_UID}}"
          },
          "response": []
        },
        {
          "_postman_id": "1e2a8d98-bccb-4b24-8378-d0d44b9a8b5a",
          "name": "Delete studies from album-read",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{URL}}/studies/{{study_UID}}/series/{{series_UID}}"
          },
          "response": []
        },
        {
          "_postman_id": "c83b76ca-dd3a-46fd-9ceb-01591396a195",
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 study\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {},
            "url": "{{URL}}/studies"
          },
          "response": []
        },
        {
          "_postman_id": "71412691-7899-4e74-806b-1130af0dac64",
          "name": "Delete studies from album-read-write",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read_write}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{URL}}/studies/{{study_UID}}/series/{{series_UID}}"
          },
          "response": []
        },
        {
          "_postman_id": "8c16b989-54f2-42ad-9cdd-b1e771ddcd59",
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {},
            "url": "{{URL}}/studies"
          },
          "response": []
        }
      ]
    },
    {
      "_postman_id": "8de25ada-7b4e-47a2-8a39-edeadcd9677c",
      "name": "STOW RS",
      "description": "",
      "item": [
        {
          "_postman_id": "9d611f56-797a-4f65-8ff6-9445b71f8b7a",
          "name": "STOW RS inside album capability token",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7524252c-94ee-4cd1-8780-15785472765a",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_write}}"
              }
            ],
            "body": {
              "mode": "file",
              "file": {
                "src": null
              }
            },
            "url": "{{URL}}/studies"
          },
          "response": []
        },
        {
          "_postman_id": "61daaae0-7631-42f2-b064-87e0907b05f3",
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 study\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {},
            "url": "{{URL}}/studies"
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "a43051f9-5172-41f2-86b4-bd1301536045",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "ba58fb6a-5f4d-4a7b-bc3e-4a28e06412bf",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "_postman_id": "4780da58-a742-4fb6-a828-a2929c171447",
      "name": "Delete /study/.../series/.../album/...",
      "description": "",
      "item": [
        {
          "_postman_id": "93a3a684-015c-4b1e-abc7-cd9876f3243e",
          "name": "Delete studies from album-write",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_write}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{URL}}/studies/{{study_UID}}/series/{{series_UID}}/albums/{{album_id_1}}"
          },
          "response": []
        },
        {
          "_postman_id": "4490a892-4a42-4031-b7de-c0612bd551d1",
          "name": "Delete studies from album-read",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{URL}}/studies/{{study_UID}}/series/{{series_UID}}/albums/{{album_id_1}}"
          },
          "response": []
        },
        {
          "_postman_id": "26871681-092c-4ad5-934e-c4a46f5e4dca",
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 study\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {},
            "url": "{{URL}}/studies"
          },
          "response": []
        },
        {
          "_postman_id": "1beeb46f-85d0-469a-9220-402d95a8b57a",
          "name": "Delete studies from album-read-write",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read_write}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{URL}}/studies/{{study_UID}}/series/{{series_UID}}/albums/{{album_id_1}}"
          },
          "response": []
        },
        {
          "_postman_id": "e39e3790-9a72-4efe-ae82-731181d55292",
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {},
            "url": "{{URL}}/studies"
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "738f0312-757c-4c51-a9fb-b71ebbe25942",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "b8fcacf5-f15b-4baa-bf44-d06d2e4f7511",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "_postman_id": "14d8cc70-fbcd-4513-a392-d14d5bff6ae0",
      "name": "STOW RS",
      "description": "",
      "item": [
        {
          "_postman_id": "d51a4990-6c42-4601-a995-4f57003d3de3",
          "name": "STOW RS inside album capability token",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7524252c-94ee-4cd1-8780-15785472765a",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_write}}"
              }
            ],
            "body": {
              "mode": "file",
              "file": {
                "src": null
              }
            },
            "url": "{{URL}}/studies"
          },
          "response": []
        },
        {
          "_postman_id": "7b0ede27-21cb-4366-836e-f65fa59bbfd8",
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 study\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {},
            "url": "{{URL}}/studies"
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "a43051f9-5172-41f2-86b4-bd1301536045",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "ba58fb6a-5f4d-4a7b-bc3e-4a28e06412bf",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "_postman_id": "6d3561e9-040b-419c-ad16-c25b0a2a0672",
      "name": "Delete /study/...",
      "description": "",
      "item": [
        {
          "_postman_id": "a390afb8-d7c6-496c-b0b0-13534d5a8675",
          "name": "Delete studies from album-write",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_write}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{URL}}/studies/{{study_UID}}"
          },
          "response": []
        },
        {
          "_postman_id": "f6d43e38-729f-4c9e-be9e-d8182b2945bf",
          "name": "Delete studies from album-read",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{URL}}/studies/{{study_UID}}"
          },
          "response": []
        },
        {
          "_postman_id": "1e665026-64dd-4dfc-aa8b-7b9178eff60f",
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 study\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {},
            "url": "{{URL}}/studies"
          },
          "response": []
        },
        {
          "_postman_id": "1fc0df55-f8e2-4d88-a048-adaddfe1fc08",
          "name": "Delete studies from album-read-write",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read_write}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{URL}}/studies/{{study_UID}}"
          },
          "response": []
        },
        {
          "_postman_id": "754d4044-c4ab-49a3-a648-fc2d8eba8e1c",
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {},
            "url": "{{URL}}/studies"
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "a8fe6514-99f7-4e22-ace6-8a34898140fa",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "1fb9ff48-1872-45e9-9cef-cb19c4338aa9",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "_postman_id": "9f3b73fe-69b8-4412-8323-54f72017d42b",
      "name": "STOW RS",
      "description": "",
      "item": [
        {
          "_postman_id": "11c44617-8f5b-4620-a060-e272f615f904",
          "name": "STOW RS inside album capability token",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "7524252c-94ee-4cd1-8780-15785472765a",
                "exec": [
                  "// ensure healthy response code",
                  "tests[\"Status code is 200\"] = responseCode.code === 200;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "multipart/related; type=\"application/dicom\"; boundary=myboundary"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_write}}"
              }
            ],
            "body": {
              "mode": "file",
              "file": {
                "src": null
              }
            },
            "url": "{{URL}}/studies"
          },
          "response": []
        },
        {
          "_postman_id": "16742311-74f1-47d3-8ee4-1f220679e4f4",
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 study\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {},
            "url": "{{URL}}/studies"
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "a43051f9-5172-41f2-86b4-bd1301536045",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "ba58fb6a-5f4d-4a7b-bc3e-4a28e06412bf",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    },
    {
      "_postman_id": "f091ecf5-a7b1-49db-acf0-9ed105077d2f",
      "name": "Delete /study/.../album/...",
      "description": "",
      "item": [
        {
          "_postman_id": "59d7ba31-844f-4672-a669-459ef7dded75",
          "name": "Delete studies from album-write",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_write}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_1}}"
          },
          "response": []
        },
        {
          "_postman_id": "3edb29e1-64cd-486e-a2a8-9bad9503e635",
          "name": "Delete studies from album-read",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 403\"] = responseCode.code === 403;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_1}}"
          },
          "response": []
        },
        {
          "_postman_id": "fbe0a822-b36f-44cd-a561-1dc970143ae4",
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 200\"] = responseCode.code === 200;",
                  "",
                  "tests[\"Not empty response []\"] = responseBody != \"[]\"",
                  "",
                  "var jsonObject = JSON.parse(responseBody);",
                  "",
                  "tests[\"Return 1 study\"] = jsonObject.length === 1;",
                  "",
                  "tests[\"[INFO] Response: \" + responseBody] = true;"
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {},
            "url": "{{URL}}/studies"
          },
          "response": []
        },
        {
          "_postman_id": "b8734a66-a721-4c1e-90fd-859e275eb457",
          "name": "Delete studies from album-read-write",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "38ad1edc-20bd-4940-89fa-953608b93017",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read_write}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": ""
            },
            "url": "{{URL}}/studies/{{study_UID}}/albums/{{album_id_1}}"
          },
          "response": []
        },
        {
          "_postman_id": "fc1ef5df-e2f8-43ef-b0f3-0bbbe689c8d5",
          "name": "album get studies list",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "128dde23-feee-4f1e-a16a-0f5249f5a7ec",
                "exec": [
                  "tests[\"Status code is 204\"] = responseCode.code === 204;",
                  ""
                ],
                "type": "text/javascript"
              }
            },
            {
              "listen": "prerequest",
              "script": {
                "id": "433061e1-5fc1-4ead-8d1d-c7aa6cd7c5f4",
                "exec": [
                  ""
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{secret_capability_token_read}}"
              }
            ],
            "body": {},
            "url": "{{URL}}/studies"
          },
          "response": []
        }
      ],
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "id": "738f0312-757c-4c51-a9fb-b71ebbe25942",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        },
        {
          "listen": "test",
          "script": {
            "id": "b8fcacf5-f15b-4baa-bf44-d06d2e4f7511",
            "type": "text/javascript",
            "exec": [
              ""
            ]
          }
        }
      ]
    }
  ]
}